System.register("chunks:///_virtual/AnimalProgressLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AnimValueLabel.ts","./AnimValueProgressHP.ts","./BasePopUp.ts"],(function(e){"use strict";var n,t,i,a,r,o,l,s,u;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator},function(e){l=e.AnimValueLabel},function(e){s=e.default},function(e){u=e.BasePopUp}],execute:function(){var c,p,m,f,h,P,b;r._RF.push({},"80fe9XeHhBCk7tModCpqDV4","AnimalProgressLayer",void 0);var y=o.ccclass,d=o.property;e("AnimalProgressLayer",(c=y("AnimalProgressLayer"),p=d({type:s,tooltip:"HP 血条组件"}),m=d({type:l,tooltip:"动态积分 组件"}),c((P=n((h=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return n=e.call.apply(e,[this].concat(r))||this,i(n,"animHP",P,a(n)),i(n,"animLabel",b,a(n)),n}t(n,e);var r=n.prototype;return r.open=function(){},r.onClickSubHPBtn=function(){this.animHP.setValue(Math.max(0,this.animHP.endValue-.2))},r.onClickAddHPBtn=function(){this.animHP.setValue(Math.min(1,this.animHP.endValue+.2))},r.onClickAddScoreBtn=function(){this.animLabel.setValue(Math.min(1e3,this.animLabel.endValue+50))},r.onClickSubScoreBtn=function(){this.animLabel.setValue(Math.max(-1e3,this.animLabel.endValue-50))},n}(u)).prototype,"animHP",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=n(h.prototype,"animLabel",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=h))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/AnimValue.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n,i,r,u,o,a,l,s,c,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,u=e.createClass},function(e){o=e.cclegacy,a=e._decorator,l=e.CCFloat,s=e.Enum,c=e.Tween,p=e.Component}],execute:function(){var d,_,m,f,h,y,V,b,v,w,g,A,E,D;o._RF.push({},"dfa2cmXQrxBoZxUMEDb2FC4","AnimValue",void 0);var N,I,R=a.ccclass,T=a.property,U=a.executeInEditMode;!function(e){e[e.SPEED=0]="SPEED",e[e.DURING=1]="DURING"}(N||(N={})),function(e){e[e.NONE=0]="NONE",e[e.IN=1]="IN",e[e.OUT=2]="OUT",e[e.IN_OUT=3]="IN_OUT"}(I||(I={}));e("default",(d=R("AnimValue"),_=T({type:l,tooltip:"初始值"}),m=T({type:s(N),tooltip:"数值变化类型\nSPEED：以速度计算变化时长\nDURATION：固定时长"}),f=T({tooltip:"每秒数值变化速度",visible:function(){return this.animType===N.SPEED}}),h=T({tooltip:"数值变化的总时长",visible:function(){return this.animType===N.DURING}}),y=T({type:s(I),tooltip:"变化的缓动类型"}),d(V=U((v=t((b=function(e){function t(){for(var t,n=arguments.length,u=new Array(n),o=0;o<n;o++)u[o]=arguments[o];return t=e.call.apply(e,[this].concat(u))||this,i(t,"_endValue",v,r(t)),i(t,"_curValue",w,r(t)),i(t,"animType",g,r(t)),i(t,"speed",A,r(t)),i(t,"durating",E,r(t)),i(t,"easingType",D,r(t)),t._animResolve=void 0,t._tween=null,t._isAdd=!1,t}n(t,e);var o=t.prototype;return o.onAnimStart=function(){},o.onAnimUpdate=function(){},o.onAnimComplete=function(){this._animResolve&&(this._animResolve(),this._animResolve=null),this._tween&&(this._tween.stop(),this._tween=null)},o.setValueImmediately=function(e){this._isAdd=this._endValue-this._curValue>0,this._endValue=e,this._curValue=e,this.onAnimStart(),this.onAnimUpdate(),this.onAnimComplete()},o.setValue=function(e,t){var n=this;return void 0===t&&(t=!0),new Promise((function(i,r){var u;if(!t)return n.setValueImmediately(e),void i();n._animResolve=i,n._endValue=e,n._isAdd=n._endValue-n._curValue>0,null==(u=n._tween)||u.stop(),n._tween=new c(n);var o=n.animType===N.DURING?n.durating:Math.abs(n._endValue-n._curValue)/n.speed;n._tween.to(o,{_curValue:n._endValue},{onStart:function(){n.onAnimStart()},onUpdate:function(){n.onAnimUpdate()},onComplete:function(){n.onAnimComplete()}}).start()}))},o.stop=function(){this._animResolve&&(this._animResolve=null),this._tween&&(this._tween.stop(),this._tween=null)},u(t,[{key:"initValue",get:function(){return this._endValue},set:function(e){this._curValue=e,this._endValue=e,this.setValueImmediately(this._endValue)}},{key:"isAdd",get:function(){return this._isAdd}},{key:"endValue",get:function(){return this._endValue}},{key:"curValue",get:function(){return this._curValue}}]),t}(p)).prototype,"_endValue",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=t(b.prototype,"_curValue",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),t(b.prototype,"initValue",[_],Object.getOwnPropertyDescriptor(b.prototype,"initValue"),b.prototype),g=t(b.prototype,"animType",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return N.SPEED}}),A=t(b.prototype,"speed",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),E=t(b.prototype,"durating",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),D=t(b.prototype,"easingType",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return I.NONE}}),V=b))||V)||V));o._RF.pop()}}}));

System.register("chunks:///_virtual/AnimValueLabel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AnimValue.ts"],(function(e){"use strict";var t,n,l,a,r,i;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass},function(e){l=e.cclegacy,a=e._decorator,r=e.Label},function(e){i=e.default}],execute:function(){var u;l._RF.push({},"26ebbAFGuhNvrk4Rlt6jBUK","AnimValueLabel",void 0);var o=a.ccclass;a.property,e("AnimValueLabel",o("AnimValueLabel")(u=function(e){function l(){for(var t,n=arguments.length,l=new Array(n),a=0;a<n;a++)l[a]=arguments[a];return(t=e.call.apply(e,[this].concat(l))||this)._label=null,t}return t(l,e),l.prototype.onAnimUpdate=function(){this.label.string=""+Math.round(this.curValue)},n(l,[{key:"label",get:function(){return this._label||(this._label=this.node.getComponent(r)),this._label}}]),l}(i))||u);l._RF.pop()}}}));

System.register("chunks:///_virtual/AnimValueProgress.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AnimValue.ts"],(function(r){"use strict";var e,s,t,n,o,a;return{setters:[function(r){e=r.inheritsLoose,s=r.createClass},function(r){t=r.cclegacy,n=r._decorator,o=r.ProgressBar},function(r){a=r.default}],execute:function(){var i;t._RF.push({},"12948jJOKVJ1L35b6Rjzb8a","AnimValueProgress",void 0);var u=n.ccclass,c=(n.property,n.requireComponent),l=n.executeInEditMode;r("default",u("AnimValueProgress")(i=l(i=c(o)(i=function(r){function t(){for(var e,s=arguments.length,t=new Array(s),n=0;n<s;n++)t[n]=arguments[n];return(e=r.call.apply(r,[this].concat(t))||this)._progressBar=null,e}return e(t,r),t.prototype.onAnimUpdate=function(){this.progressBar.progress=this.curValue},s(t,[{key:"progressBar",get:function(){return this._progressBar||(this._progressBar=this.node.getComponent(o)),this._progressBar}}]),t}(a))||i)||i)||i);t._RF.pop()}}}));

System.register("chunks:///_virtual/AnimValueProgressHP.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AnimValueProgress.ts"],(function(e){"use strict";var r,t,s,o,i,a,n,u,h,l;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,s=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,n=e.ProgressBar,u=e.Sprite,h=e.UITransform},function(e){l=e.default}],execute:function(){var c,p,d,g,f,b;i._RF.push({},"aea73yWkbhIdan85QtF+6yo","AnimValueProgressHP",void 0);var m=a.ccclass,w=a.property,y=a.executeInEditMode,S=a.requireComponent;e("default",(c=m("AnimValueProgressHP"),p=S(n),d=w({type:u,tooltip:"血条阴影，如果barSprite渲染模式为filled模式，此sprite也要对应修改，保持一致"}),c(g=y(g=p((b=r((f=function(e){function r(){for(var r,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i))||this,s(r,"barShadow",b,o(r)),r}t(r,e);var i=r.prototype;return i.onAnimStart=function(){this.isAdd||(this.progressBar.progress=this.endValue)},i.onAnimUpdate=function(){this.isAdd?(this.setBarShadow(this.curValue),this.progressBar.progress=this.curValue):this.setBarShadow(this.curValue)},i.setBarShadow=function(e){switch(this.progressBar.mode){case n.Mode.HORIZONTAL:this.barShadow.node.getComponent(h).width=this.progressBar.totalLength*e;break;case n.Mode.VERTICAL:this.barShadow.node.getComponent(h).height=this.progressBar.totalLength*e;break;case n.Mode.FILLED:this.barShadow.fillRange=e}},r}(l)).prototype,"barShadow",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=f))||g)||g)||g));i._RF.pop()}}}));

System.register("chunks:///_virtual/AudioManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){"use strict";var u,i,e,n,a,t,c,r;return{setters:[function(o){u=o.createClass,i=o.asyncToGenerator,e=o.regeneratorRuntime},function(o){n=o.cclegacy,a=o._decorator,t=o.AudioSource,c=o.assetManager,r=o.AudioClip}],execute:function(){var s,p;n._RF.push({},"bc484bApSlEdqXuI3pr7J/n","AudioManager",void 0);var d=a.ccclass;a.property,o("AudioManager",d("AudioManager")(((p=function(){function o(){this._curLoopAudioName="",this._audioSource=null,this._audioLoopSource=null}var n=o.prototype;return n.initAudio=function(){this._audioSource=new t,this._audioSource.loop=!0,this._audioLoopSource=new t,this._audioLoopSource.loop=!0,this._audioLoopSource.volume=.3},n.playMusic=function(){var u=i(e().mark((function u(i){var n,a,t,s=this;return e().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:if(!this._audioSource.clip){u.next=3;break}return this._audioSource.play(),u.abrupt("return");case 3:n="audio/sound/"+i,(a=o._cachedAudioClipMap[n])?(this._audioSource.clip=a,this._audioSource.play()):null==(t=c.resources)||t.load(n,r,(function(u,i){u?console.warn(u):(o._cachedAudioClipMap[n]=i,s._audioSource.clip=i,s._audioSource.play())}));case 6:case"end":return u.stop()}}),u,this)})));return function(o){return u.apply(this,arguments)}}(),n.stopMusic=function(){this._audioSource.stop()},n.pauseMusic=function(){this._audioSource.pause()},n.playSound=function(){var u=i(e().mark((function u(i,n){var a,t,s,p=this;return e().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:void 0===n&&(n=1),a="audio/sound/"+i,(t=o._cachedAudioClipMap[a])?this._audioSource.playOneShot(t,n):null==(s=c.resources)||s.load(a,r,(function(u,i){u?console.warn(u):(o._cachedAudioClipMap[a]=i,p._audioSource.playOneShot(i,n))}));case 4:case"end":return u.stop()}}),u,this)})));return function(o,i){return u.apply(this,arguments)}}(),n.playLoopSound=function(u){var i=this;this._audioLoopSource.stop();var e,n="audio/sound/"+u,a=o._cachedAudioClipMap[n];a?(this._audioLoopSource.clip=a,this._audioLoopSource.play(),this._curLoopAudioName=u):null==(e=c.resources)||e.load(n,r,(function(e,a){e?console.warn(e):(o._cachedAudioClipMap[n]=a,i._audioLoopSource.clip=a,i._audioLoopSource.play(),i._curLoopAudioName=u)}))},n.stopLoopSound=function(){this._audioLoopSource.stop()},n.isLoopAudioPlaying=function(){return this._audioLoopSource.playing},u(o,[{key:"curLoopAudioName",get:function(){return this._curLoopAudioName}}],[{key:"instance",get:function(){return this._instance||(this._instance=new o,this._instance.initAudio()),this._instance}}]),o}())._instance=null,p._cachedAudioClipMap={},s=p))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/BasePopUp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./env","./Utils.ts"],(function(i){"use strict";var e,t,n,l,o,s,r,a,p,c,u;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,n=i.initializerDefineProperty,l=i.assertThisInitialized},function(i){o=i.cclegacy,s=i._decorator,r=i.Animation,a=i.AnimationClip,p=i.Component},function(i){c=i.DEV},function(i){u=i.Utils}],execute:function(){var h,y,f,m,C,d,A,v,b;o._RF.push({},"1dc56HCVL1Jop9R0GI0T1Rn","BasePopUp",void 0);var g=s.ccclass,L=s.property,P=s.disallowMultiple;i("BasePopUp",(h=g("BasePopUp"),y=L({type:r,tooltip:c}),f=L({type:a,tooltip:c,visible:function(){return!!this.layerAnim}}),m=L({type:a,tooltip:c,visible:function(){return!!this.layerAnim}}),h(C=P((A=e((d=function(i){function e(){for(var e,t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];return(e=i.call.apply(i,[this].concat(o))||this).resolveList=[],n(e,"layerAnim",A,l(e)),n(e,"openClip",v,l(e)),n(e,"closeClip",b,l(e)),e}t(e,i);var o=e.prototype;return o.onLoad=function(){this.layerAnim&&(this.openClip&&this.layerAnim.addClip(this.openClip),this.closeClip&&this.layerAnim.addClip(this.closeClip),this.layerAnim.on(r.EventType.FINISHED,this.onAnimFinished,this))},o.onAnimFinished=function(i,e){e.clip===this.closeClip&&this.close()},o.playOpen=function(){this.layerAnim&&this.openClip&&this.layerAnim.play(this.openClip.name)},o.onClickClose=function(){this.playClose()},o.playClose=function(){if(this.layerAnim&&this.closeClip){if(this.layerAnim.getState(this.closeClip.name).isPlaying)return;this.layerAnim.play(this.closeClip.name)}else this.close()},o.close=function(){this.resolveList.forEach((function(i){i()})),u.instance.safeDestoryNode(this.node)},o.addResolve=function(i){u.instance.arrayAdd(this.resolveList,i)},e}(p)).prototype,"layerAnim",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(d.prototype,"openClip",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=e(d.prototype,"closeClip",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=d))||C)||C));o._RF.pop()}}}));

System.register("chunks:///_virtual/BgCtr.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,r,n,o,a,s,p,h,c,l,d,g,S,u,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,s=t.SpriteFrame,p=t.Size,h=t.view,c=t.director,l=t.Canvas,d=t.UITransform,g=t.Widget,S=t.ResolutionPolicy,u=t.Sprite,m=t.Component}],execute:function(){var z,C,F,f,v,_,y;t("ScreenAdaptType",void 0),o._RF.push({},"6e8f8Kb9+JBhLtV2V6Ev9Z9","BgCtr",void 0);var A,w=a.ccclass,b=a.property;!function(t){t[t.landscape=0]="landscape",t[t.portrait_1=1]="portrait_1",t[t.portrait_2=2]="portrait_2"}(A||(A=t("ScreenAdaptType",{})));t("BgCtr",(z=w("BgCtr"),C=b({type:s,tooltip:"横屏背景图"}),F=b({type:s,tooltip:"竖屏背景图"}),z((_=e((v=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,r(e,"landscapeSpriteFrame",_,n(e)),r(e,"portraitSpriteFrame",y,n(e)),e.landscapeSize=new p(1106,750),e.portraitSize=new p(750,1106),e.curAdapt=null,e.designSize=null,e._canvas=void 0,e._canvaSize=void 0,e}i(e,t);var o=e.prototype;return o.onLoad=function(){var t=this;this.designSize=h.getDesignResolutionSize(),h.setResizeCallback((function(){return t.adapt()}));var e=c.getScene();this._canvas=e.getComponentInChildren(l).node,this._canvaSize=this._canvas.getComponent(d).contentSize},o.start=function(){this.adapt()},o.adapt=function(){var t=h.getVisibleSize().width/h.getVisibleSize().height,e=this.designSize.width/this.designSize.height,i=this.portraitSpriteFrame.rect.width/this.portraitSpriteFrame.rect.height;if(t>e&&this.curAdapt!==A.landscape)this.node.getComponent(g).isAlignTop=!1,this.node.getComponent(g).isAlignBottom=!1,h.setDesignResolutionSize(this.landscapeSize.x,this.landscapeSize.y,S.FIXED_WIDTH),this.node.getComponent(u).spriteFrame=this.landscapeSpriteFrame,this.node.getComponent(d).contentSize=new p(this.landscapeSize.x,this.landscapeSpriteFrame.rect.height*(this.landscapeSize.x/this.landscapeSpriteFrame.rect.width)),this.curAdapt=A.landscape;else if(t<e&&t>i&&this.curAdapt!==A.portrait_1)this.node.getComponent(g).isAlignTop=!1,this.node.getComponent(g).isAlignBottom=!1,h.setDesignResolutionSize(this.portraitSize.x,this.portraitSize.y,S.FIXED_WIDTH),this.node.getComponent(u).spriteFrame=this.portraitSpriteFrame,this.node.getComponent(d).contentSize=new p(this.portraitSize.x,this.portraitSpriteFrame.rect.height*(this.portraitSize.x/this.portraitSpriteFrame.rect.width)),this.curAdapt=A.portrait_1;else if(t<i){this.curAdapt!==A.portrait_2&&(h.setDesignResolutionSize(this.portraitSize.x,this.portraitSize.y,S.FIXED_WIDTH),this.node.getComponent(u).spriteFrame=this.portraitSpriteFrame,this.node.getComponent(g).isAlignTop=!0,this.node.getComponent(g).isAlignBottom=!0,this.node.getComponent(g).top=0,this.node.getComponent(g).bottom=0,this.curAdapt=A.portrait_2);var r=h.getVisibleSize().height;this.node.getComponent(d).setContentSize(new p(this.portraitSpriteFrame.rect.width*(r/this.portraitSpriteFrame.rect.height),r))}},e}(m)).prototype,"landscapeSpriteFrame",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=e(v.prototype,"portraitSpriteFrame",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=v))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/BirdCellView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FrameAnimation.ts","./Enums.ts","./CellView.ts"],(function(e){"use strict";var t,r,i,n,o,a,l,c,s,u,p,f,m,y,h,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized,o=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){l=e.cclegacy,c=e._decorator,s=e.SpriteFrame,u=e.Vec3},function(e){p=e.FrameAnimation},function(e){f=e.CELL_WIDTH,m=e.GRID_PIXEL_WIDTH,y=e.CELL_HEIGHT,h=e.GRID_PIXEL_HEIGHT},function(e){d=e.CellView}],execute:function(){var w,v,_,A,I,g,C;l._RF.push({},"a0455xheJZGlZar4i7VeRgS","BirdCellView",void 0);var L=c.ccclass,V=c.property;e("BirdCellView",(w=L("BirdCellView"),v=V({type:[s],tooltip:"点击的帧动画图片"}),_=V({type:p,tooltip:"帧动画播放组件"}),w((g=t((I=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"clickSFArr",g,n(t)),i(t,"frameAnim",C,n(t)),t.spriteAtlas=null,t}r(t,e);var l=t.prototype;return l.initWithModel=function(){var e=o(a().mark((function e(t){var r,i,n,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.model=t,r=t.startX,i=t.startY,n=f*(r-.5)-m/2,o=y*(i-.5)-h/2,this.node.setPosition(new u(n,o));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),l.playAnimByStatus=function(e){},t}(d)).prototype,"clickSFArr",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=t(I.prototype,"frameAnim",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=I))||A));l._RF.pop()}}}));

System.register("chunks:///_virtual/Canvas2Image.ts",["cc"],(function(t){"use strict";var e,n;return{setters:[function(t){e=t.cclegacy,n=t._decorator}],execute:function(){var a;e._RF.push({},"0b529wCJMtMNpq2RVQ84QfB","Canvas2Image",void 0);var r=n.ccclass;n.property,t("Canvas2Image",r("Canvas2Image")(a=function(){function t(){}return t.getInstance=function(){var t,e,n=(t=document.createElement("canvas"),{canvas:!!(e=t.getContext("2d")),imageData:!!e.getImageData,dataURL:!!t.toDataURL,btoa:!!window.btoa});function a(t,e,n){var a=t.width,r=t.height;null==e&&(e=a),null==n&&(n=r);var o=document.createElement("canvas"),c=o.getContext("2d");return o.width=e,o.height=n,c.drawImage(t,0,0,a,r,0,0,e,n),o}function r(t,e,n){m(t,e,n)}function o(t){return"image/"+(t=t.toLowerCase().replace(/jpg/i,"jpeg")).match(/png|jpeg|bmp|gif/)[0]}function c(t){if(!window.btoa)throw"btoa undefined";var e="";if("string"==typeof t)e=t;else for(var n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return btoa(e)}function i(t){var e=t.width,n=t.height;return t.getContext("2d").getImageData(0,0,e,n)}function u(t,e){return"data:"+e+";base64,"+t}var f=function(t){var e=t.width,n=t.height,a=e*n*3,r=a+54,o=[66,77,255&r,r>>8&255,r>>16&255,r>>24&255,0,0,0,0,54,0,0,0],i=[40,0,0,0,255&e,e>>8&255,e>>16&255,e>>24&255,255&n,n>>8&255,n>>16&255,n>>24&255,1,0,24,0,0,0,0,0,255&a,a>>8&255,a>>16&255,a>>24&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],u=(4-3*e%4)%4,f=t.data,g="",d=e<<2,m=n,s=String.fromCharCode;do{for(var v=d*(m-1),l="",p=0;p<e;p++){var h=p<<2;l+=s(f[v+h+2])+s(f[v+h+1])+s(f[v+h])}for(var b=0;b<u;b++)l+=String.fromCharCode(0);g+=l}while(--m);return c(o.concat(i))+c(g)},g=function(t,e,c,g,d){if(n.canvas&&n.dataURL)if("string"==typeof t&&(t=document.getElementById(t)),null==g&&(g="png"),g=o(g),/bmp/.test(g)){var m=i(a(t,e,c));r(u(f(m),"image/octet-stream"),g.replace("image/",""),d)}else(t=a(t,e,c)).toBlob((function(t){r(URL.createObjectURL(t),g.replace("image/",""),d)}),g,1)},d=function(t,e,r,c){if(n.canvas&&n.dataURL){if("string"==typeof t&&(t=document.getElementById(t)),null==c&&(c="png"),c=o(c),/bmp/.test(c)){var g=i(a(t,e,r));return function(t){var e=document.createElement("img");return e.src=t,e}(u(f(g),"image/bmp"))}return function(t,e,n,r){return(t=a(t,n,r)).toDataURL(e)}(t,c,e,r)}},m=function(t,e,n){var a=document.createElement("a");a.style.display="none",a.href=t,a.download=n+"."+e,document.body.appendChild(a),a.click(),document.body.removeChild(a)};return{saveAsImage:g,saveAsPNG:function(t,e,n){return g(t,e,n,"png","defaultpng")},saveAsJPEG:function(t,e,n){return g(t,e,n,"jpeg","defaultjpg")},saveAsGIF:function(t,e,n){return g(t,e,n,"gif","defaultgif")},saveAsBMP:function(t,e,n){return g(t,e,n,"bmp","defaultbmp")},convertToImage:d,convertToPNG:function(t,e,n){return d(t,e,n,"png")},convertToJPEG:function(t,e,n){return d(t,e,n,"jpeg")},convertToGIF:function(t,e,n){return d(t,e,n,"gif")},convertToBMP:function(t,e,n){return d(t,e,n,"bmp")}}},t}())||a);e._RF.pop()}}}));

System.register("chunks:///_virtual/CellModel.ts",["cc","./Enums.ts"],(function(t){"use strict";var i,s,e,n,o,c;return{setters:[function(t){i=t.cclegacy,s=t.Vec2},function(t){e=t.CELL_TYPE,n=t.CellActionType,o=t.ANITIME,c=t.CELL_STATUS}],execute:function(){i._RF.push({},"e6ec4Nu44ZEErOcksobt3WU","CellModel",void 0);t("default",function(){function t(){this.type=void 0,this.status=void 0,this.x=void 0,this.y=void 0,this.startX=void 0,this.startY=void 0,this.cmd=void 0,this.isDie=void 0,this.type=null,this.status=c.COMMON,this.startX=this.x=1,this.startY=this.y=1,this.cmd=[],this.isDie=!1}var i=t.prototype;return i.init=function(t){this.type=t},i.isEmpty=function(){return this.type==e.EMPTY},i.setEmpty=function(){this.type=e.EMPTY},i.setXY=function(t,i){this.x=t,this.y=i},i.setStartXY=function(t,i){this.startX=t,this.startY=i},i.setStatus=function(t){this.status=t},i.moveToAndBack=function(t){var i=new s(this.x,this.y);this.cmd.push({actionType:n.MOVE_TO,playTime:0,keepTime:o.TOUCH_MOVE,pos:t}),this.cmd.push({actionType:n.MOVE_TO,playTime:o.TOUCH_MOVE,keepTime:o.TOUCH_MOVE,pos:i})},i.moveTo=function(t,i){this.cmd.push({actionType:n.MOVE_TO,keepTime:o.TOUCH_MOVE,playTime:i,pos:t}),this.x=t.x,this.y=t.y},i.toDie=function(t){this.cmd.push({actionType:n.DIE_TO,playTime:t,keepTime:o.DIE}),this.isDie=!0},i.toShake=function(t){this.cmd.push({actionType:n.SHAKE_TO,playTime:t,keepTime:o.DIE_SHAKE})},i.setVisible=function(t,i){this.cmd.push({actionType:n.SET_VISIBLE,playTime:t,keepTime:0,isVisible:i})},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/CellView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MainTools.ts","./ShakeNode.ts","./Enums.ts"],(function(e){"use strict";var t,n,i,o,l,s,c,a,r,p,u,h,f,d,y,T,w,_;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){l=e.cclegacy,s=e._decorator,c=e.Node,a=e.Tween,r=e.Component,p=e.tween,u=e.Vec3,h=e.UIOpacity},function(e){f=e.MainTools},function(e){d=e.default},function(e){y=e.CellActionType,T=e.CELL_WIDTH,w=e.CELL_HEIGHT,_=e.ANITIME}],execute:function(){var m,v,C,E,S;l._RF.push({},"7a71aBNU6NN55ka4KgnXJtm","CellView",void 0);var g=s.ccclass,V=s.property;e("CellView",(m=g("CellView"),v=V({type:c,tooltip:"选中框"}),m((S=t((E=function(e){function t(){for(var t,n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return t=e.call.apply(e,[this].concat(l))||this,i(t,"selectBox",S,o(t)),t.model=null,t.isSelect=!1,t._tween=null,t}n(t,e);var l=t.prototype;return l.onLoad=function(){this.isSelect=!1},l.updateView=function(){var e=this,t=this.model.cmd;if(!(t.length<=0)){this._tween=new a(this.node);var n=0,i=function(i){if(t[i].playTime>n&&e._tween.then(p().delay(t[i].playTime-n)),t[i].actionType===y.MOVE_TO){var o=(t[i].pos.x-.5)*T,l=(t[i].pos.y-.5)*w;e._tween.then(p().to(_.TOUCH_MOVE,{position:new u(o,l)},{easing:"backOut"}))}else if(t[i].actionType===y.DIE_TO)e._tween.then(p().call(function(){this.node.removeFromParent()}.bind(e)));else if(t[i].actionType===y.SET_VISIBLE){var s=t[i].isVisible;e._tween.then(p().call(function(){this.node.getComponent(h).opacity=s?255:0}.bind(e)))}else t[i].actionType===y.SHAKE_TO&&e._tween.then(p().call(function(){f.find("mainSp",this.node).getComponent(d).shake(10*t[i].keepTime,.1)}.bind(e)));n=t[i].playTime+t[i].keepTime};for(var o in t)i(o);this._tween.clone(this.node).start()}},l.setSelect=function(e){e!==this.isSelect&&(this.isSelect=e,this.selectBox.active=e)},t}(r)).prototype,"selectBox",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=E))||C));l._RF.pop()}}}));

System.register("chunks:///_virtual/CircleList.ts",["./rollupPluginModLoBabelHelpers.js","cc","./env","./ResManager.ts"],(function(t){"use strict";var e,i,r,n,s,a,o,l,h,u,c,p,d,f,_,g,m,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized,s=t.createClass},function(t){a=t.cclegacy,o=t._decorator,l=t.PageView,h=t.Enum,u=t.Prefab,c=t.Node,p=t.v2,d=t.UITransform,f=t.misc,_=t.Layout,g=t.Component},function(t){m=t.DEV},function(t){y=t.ResManager}],execute:function(){var w,I,x,v,P,C,L,D,V,E,b;a._RF.push({},"99f82ELz7FPIJVQZNKPmtyl","CircleList",void 0);var R,F=o.ccclass,T=o.property,N=o.requireComponent,z=o.disallowMultiple,A=o.menu;!function(t){t[t.NODE=0]="NODE",t[t.PREFAB=1]="PREFAB"}(R||(R={}));t("default",(w=N(l),I=A("Framework/UI组件/CircleList"),x=T({type:h(R),tooltip:m}),v=T({type:u,tooltip:m,visible:function(){return this.templateType===R.PREFAB}}),P=T({type:c,tooltip:m,visible:function(){return this.templateType===R.NODE}}),F(C=z(C=w(C=I(((b=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return e=t.call.apply(t,[this].concat(s))||this,r(e,"templateType",D,n(e)),r(e,"templatePrefab",V,n(e)),r(e,"templateNode",E,n(e)),e._firstDirty=!1,e._refreshDirty=!1,e._curIdx=0,e._midIdx=2,e._dataLen=0,e._refreshCall=null,e._target=null,e._pageView=null,e}i(e,t);var a=e.prototype;return a.start=function(){this.node.on("scroll-ended",this.onScrollEnd,this)},a.lateUpdate=function(){0!==this.pageView.getPages().length&&(this._firstDirty&&(this._firstDirty=!1,this.pageView.scrollToOffset(p(-this.view.getComponent(d).width/2-this._midIdx*this.view.getComponent(d).width,0)),this.pageView.setCurrentPageIndex(this._midIdx)),this._refreshDirty&&(this._refreshDirty=!1,this.refresh()))},a.onInit=function(t,e,i,r){if(this._dataLen=t,this._curIdx=f.clampf(e,0,this._dataLen-1),this._refreshCall=i,this._target=r,this._firstDirty=!0,this._refreshDirty=!0,0===this.pageView.getPages().length){for(var n=this.templateType===R.PREFAB?this.templatePrefab:this.templateNode,s=0;s<5;s++){var a=y.instantiate(n,this.node);a.active=!0,a.setPosition(0,0),this.pageView.addPage(a)}this.pageView.content.getComponent(_).updateLayout()}},a.resetData=function(t,e){void 0===e&&(e=null),this._dataLen=t,this._curIdx=f.clampf(null===e?this._curIdx:e,0,this._dataLen-1),this._refreshDirty=!0},a.setCurIdx=function(t){this._curIdx=t,this._refreshDirty=!0},a.onScrollEnd=function(){var t=this.pageView.getCurrentPageIndex();if(t!==this._midIdx){for(this.pageView.scrollToOffset(p(-this.view.getComponent(d).width/2-this._midIdx*this.view.getComponent(d).width,0)),this.pageView.setCurrentPageIndex(this._midIdx),this._curIdx+=t-this._midIdx;this._curIdx<0;)this._curIdx+=this._dataLen;for(;this._curIdx>this._dataLen-1;)this._curIdx-=this._dataLen;this._refreshDirty=!0}},a.refresh=function(){var t=this;this.pageView.content.children.forEach((function(e,i){for(var r=t._curIdx-(t._midIdx-i);r<0;)r+=t._dataLen;for(;r>t._dataLen-1;)r-=t._dataLen;t._refreshCall&&t._refreshCall.call(t._target,e,r,r===t._curIdx)}))},s(e,[{key:"pageView",get:function(){return this._pageView||(this._pageView=this.getComponent(l)),this._pageView}},{key:"view",get:function(){return this.pageView.content.parent}}]),e}(g)).ITEM_REFRESH="circleList-itemRefresh",D=e((L=b).prototype,"templateType",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return R.PREFAB}}),V=e(L.prototype,"templatePrefab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(L.prototype,"templateNode",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=L))||C)||C)||C)||C));a._RF.pop()}}}));

System.register("chunks:///_virtual/DelayCall.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Enums.ts"],(function(t){"use strict";var e,i,h,c,s;return{setters:[function(t){e=t.createClass},function(t){i=t.cclegacy,h=t.Scheduler,c=t.director},function(t){s=t.DelayCallType}],execute:function(){i._RF.push({},"f8517wer1RCqqThSss8ydKZ","DelayCall",void 0),t("DelayCall",function(){function t(){this._cache=[],this._poolDatas=[],this._newNum=0}var i=t.prototype;return i.on=function(t,e,i,h,c){if(void 0===h&&(h=s.TYPE_SET_DATA),void 0===c&&(c=null),h==s.TYPE_REPLACE)this.off(t,e);else if(h==s.TYPE_SET_DATA){var l=this.getData(t,e);if(l)return void(l.args=c)}if(t&&e){var n=this.getPool();n.init(t,e,i,c),this._cache.push(n)}},i.off=function(t,e){if(t&&e)for(var i=this._cache.length-1;i>=0;i--)this._cache[i].caller==t&&this._cache[i].method==e&&(this.recoverPool(this._cache[i]),this._cache.splice(i,1))},i.offByData=function(t){if(t)for(var e=this._cache.length-1;e>=0;e--)this._cache[e]===t&&(this.recoverPool(this._cache[e]),this._cache.splice(e,1))},i.offByCaller=function(t){if(t)for(var e=this._cache.length-1;e>=0;e--)this._cache[e].caller==t&&(this.recoverPool(this._cache[e]),this._cache.splice(e,1))},i.offAll=function(){for(var t=this._cache.length-1;t>=0;t--)this.recoverPool(this._cache[t]),this._cache.splice(t,1)},i.recoverPool=function(t){t&&(t.recoverClear(),this._poolDatas.push(t))},i.getPool=function(){return this._poolDatas.length>0?this._poolDatas.pop():(this._newNum++,new l(this))},i.getData=function(t,e){if(t&&e)for(var i=this._cache.length-1;i>=0;i--)if(this._cache[i].caller==t&&this._cache[i].method==e)return this._cache[i];return null},e(t,null,[{key:"instance",get:function(){return this._instance||(this._instance=new t),this._instance}}]),t}())._instance=null;var l=function(){function t(t){this.caller=null,this.method=null,this.args=null,this._delayCall=null,this.func=null,this._delayCall=t}var e=t.prototype;return e.init=function(t,e,i,s){this.caller=t,this.method=e,this.args=s,i<0&&(i=0),this.func=this.run.bind(this),h.enableForTarget(this),c.getScheduler().schedule(this.func,this,i)},e.recoverClear=function(){this.func&&c.getScheduler().unschedule(this.func,this),this.caller=null,this.method=null,this.args=null,this.func=null},e.run=function(){var t=this.method,e=this.caller;if(t&&e){var i=this._delayCall,h=this.args;i&&i.offByData(this),t.apply(e,h)}},t}();i._RF.pop()}}}));

System.register("chunks:///_virtual/dollar.ts",["cc"],(function(n){"use strict";var e;return{setters:[function(n){e=n.cclegacy}],execute:function(){e._RF.push({},"b5580MZu0VE5bkV8ztPDRnh","dollar",void 0);var w=n("Point",(function(n,e){this.x=void 0,this.y=void 0,this.x=n,this.y=e})),t=n("Rectangle",(function(n,e,w,t){this.x=void 0,this.y=void 0,this.width=void 0,this.height=void 0,this.x=n,this.y=e,this.width=w,this.height=t})),r=n("Unistroke",(function(n,e){this.name=void 0,this.points=void 0,this.vector=void 0,this.name=n,this.points=function(n,e){for(var t=function(n){for(var e=0,w=1;w<n.length;w++)e+=x(n[w-1],n[w]);return e}(n)/(e-1),r=0,i=new Array(n[0]),s=1;s<n.length;s++){var h=x(n[s-1],n[s]);if(r+h>=t){var o=n[s-1].x+(t-r)/h*(n[s].x-n[s-1].x),a=n[s-1].y+(t-r)/h*(n[s].y-n[s-1].y),u=new w(o,a);i[i.length]=u,n.splice(s,0,u),r=0}else r+=h}i.length==e-1&&(i[i.length]=new w(n[n.length-1].x,n[n.length-1].y));return i}(e,s);var r=function(n){var e=k(n);return Math.atan2(e.y-n[0].y,e.x-n[0].x)}(this.points);this.points=l(this.points,-r),this.points=function(n,e){for(var r=function(n){for(var e=1/0,w=-1/0,r=1/0,i=-1/0,s=0;s<n.length;s++)e=Math.min(e,n[s].x),r=Math.min(r,n[s].y),w=Math.max(w,n[s].x),i=Math.max(i,n[s].y);return new t(e,r,w-e,i-r)}(n),i=new Array,s=0;s<n.length;s++){var h=n[s].x*(e/r.width),o=n[s].y*(e/r.height);i[i.length]=new w(h,o)}return i}(this.points,h),this.points=function(n,e){for(var t=k(n),r=new Array,i=0;i<n.length;i++){var s=n[i].x+e.x-t.x,h=n[i].y+e.y-t.y;r[r.length]=new w(s,h)}return r}(this.points,o),this.vector=function(n){for(var e=0,w=new Array,t=0;t<n.length;t++)w[w.length]=n[t].x,w[w.length]=n[t].y,e+=n[t].x*n[t].x+n[t].y*n[t].y;for(var r=Math.sqrt(e),i=0;i<w.length;i++)w[i]/=r;return w}(this.points)})),i=n("Result",(function(n,e,w){this.name=void 0,this.score=void 0,this.time=void 0,this.name=n,this.score=e,this.time=w})),s=64,h=250,o=new w(0,0),a=.5*Math.sqrt(h*h+h*h),u=A(45),c=A(2),y=.5*(-1+Math.sqrt(5));n("DollarRecognizer",function(){function n(){this.unistrokes=void 0,this.unistrokes=new Array(16),this.unistrokes[0]=new r("triangle",new Array(new w(137,139),new w(135,141),new w(133,144),new w(132,146),new w(130,149),new w(128,151),new w(126,155),new w(123,160),new w(120,166),new w(116,171),new w(112,177),new w(107,183),new w(102,188),new w(100,191),new w(95,195),new w(90,199),new w(86,203),new w(82,206),new w(80,209),new w(75,213),new w(73,213),new w(70,216),new w(67,219),new w(64,221),new w(61,223),new w(60,225),new w(62,226),new w(65,225),new w(67,226),new w(74,226),new w(77,227),new w(85,229),new w(91,230),new w(99,231),new w(108,232),new w(116,233),new w(125,233),new w(134,234),new w(145,233),new w(153,232),new w(160,233),new w(170,234),new w(177,235),new w(179,236),new w(186,237),new w(193,238),new w(198,239),new w(200,237),new w(202,239),new w(204,238),new w(206,234),new w(205,230),new w(202,222),new w(197,216),new w(192,207),new w(186,198),new w(179,189),new w(174,183),new w(170,178),new w(164,171),new w(161,168),new w(154,160),new w(148,155),new w(143,150),new w(138,148),new w(136,148))),this.unistrokes[1]=new r("x",new Array(new w(87,142),new w(89,145),new w(91,148),new w(93,151),new w(96,155),new w(98,157),new w(100,160),new w(102,162),new w(106,167),new w(108,169),new w(110,171),new w(115,177),new w(119,183),new w(123,189),new w(127,193),new w(129,196),new w(133,200),new w(137,206),new w(140,209),new w(143,212),new w(146,215),new w(151,220),new w(153,222),new w(155,223),new w(157,225),new w(158,223),new w(157,218),new w(155,211),new w(154,208),new w(152,200),new w(150,189),new w(148,179),new w(147,170),new w(147,158),new w(147,148),new w(147,141),new w(147,136),new w(144,135),new w(142,137),new w(140,139),new w(135,145),new w(131,152),new w(124,163),new w(116,177),new w(108,191),new w(100,206),new w(94,217),new w(91,222),new w(89,225),new w(87,226),new w(87,224))),this.unistrokes[2]=new r("rectangle",new Array(new w(78,149),new w(78,153),new w(78,157),new w(78,160),new w(79,162),new w(79,164),new w(79,167),new w(79,169),new w(79,173),new w(79,178),new w(79,183),new w(80,189),new w(80,193),new w(80,198),new w(80,202),new w(81,208),new w(81,210),new w(81,216),new w(82,222),new w(82,224),new w(82,227),new w(83,229),new w(83,231),new w(85,230),new w(88,232),new w(90,233),new w(92,232),new w(94,233),new w(99,232),new w(102,233),new w(106,233),new w(109,234),new w(117,235),new w(123,236),new w(126,236),new w(135,237),new w(142,238),new w(145,238),new w(152,238),new w(154,239),new w(165,238),new w(174,237),new w(179,236),new w(186,235),new w(191,235),new w(195,233),new w(197,233),new w(200,233),new w(201,235),new w(201,233),new w(199,231),new w(198,226),new w(198,220),new w(196,207),new w(195,195),new w(195,181),new w(195,173),new w(195,163),new w(194,155),new w(192,145),new w(192,143),new w(192,138),new w(191,135),new w(191,133),new w(191,130),new w(190,128),new w(188,129),new w(186,129),new w(181,132),new w(173,131),new w(162,131),new w(151,132),new w(149,132),new w(138,132),new w(136,132),new w(122,131),new w(120,131),new w(109,130),new w(107,130),new w(90,132),new w(81,133),new w(76,133))),this.unistrokes[3]=new r("circle",new Array(new w(127,141),new w(124,140),new w(120,139),new w(118,139),new w(116,139),new w(111,140),new w(109,141),new w(104,144),new w(100,147),new w(96,152),new w(93,157),new w(90,163),new w(87,169),new w(85,175),new w(83,181),new w(82,190),new w(82,195),new w(83,200),new w(84,205),new w(88,213),new w(91,216),new w(96,219),new w(103,222),new w(108,224),new w(111,224),new w(120,224),new w(133,223),new w(142,222),new w(152,218),new w(160,214),new w(167,210),new w(173,204),new w(178,198),new w(179,196),new w(182,188),new w(182,177),new w(178,167),new w(170,150),new w(163,138),new w(152,130),new w(143,129),new w(140,131),new w(129,136),new w(126,139))),this.unistrokes[4]=new r("check",new Array(new w(91,185),new w(93,185),new w(95,185),new w(97,185),new w(100,188),new w(102,189),new w(104,190),new w(106,193),new w(108,195),new w(110,198),new w(112,201),new w(114,204),new w(115,207),new w(117,210),new w(118,212),new w(120,214),new w(121,217),new w(122,219),new w(123,222),new w(124,224),new w(126,226),new w(127,229),new w(129,231),new w(130,233),new w(129,231),new w(129,228),new w(129,226),new w(129,224),new w(129,221),new w(129,218),new w(129,212),new w(129,208),new w(130,198),new w(132,189),new w(134,182),new w(137,173),new w(143,164),new w(147,157),new w(151,151),new w(155,144),new w(161,137),new w(165,131),new w(171,122),new w(174,118),new w(176,114),new w(177,112),new w(177,114),new w(175,116),new w(173,118))),this.unistrokes[5]=new r("caret",new Array(new w(79,245),new w(79,242),new w(79,239),new w(80,237),new w(80,234),new w(81,232),new w(82,230),new w(84,224),new w(86,220),new w(86,218),new w(87,216),new w(88,213),new w(90,207),new w(91,202),new w(92,200),new w(93,194),new w(94,192),new w(96,189),new w(97,186),new w(100,179),new w(102,173),new w(105,165),new w(107,160),new w(109,158),new w(112,151),new w(115,144),new w(117,139),new w(119,136),new w(119,134),new w(120,132),new w(121,129),new w(122,127),new w(124,125),new w(126,124),new w(129,125),new w(131,127),new w(132,130),new w(136,139),new w(141,154),new w(145,166),new w(151,182),new w(156,193),new w(157,196),new w(161,209),new w(162,211),new w(167,223),new w(169,229),new w(170,231),new w(173,237),new w(176,242),new w(177,244),new w(179,250),new w(181,255),new w(182,257))),this.unistrokes[6]=new r("zig-zag",new Array(new w(307,216),new w(333,186),new w(356,215),new w(375,186),new w(399,216),new w(418,186))),this.unistrokes[7]=new r("arrow",new Array(new w(68,222),new w(70,220),new w(73,218),new w(75,217),new w(77,215),new w(80,213),new w(82,212),new w(84,210),new w(87,209),new w(89,208),new w(92,206),new w(95,204),new w(101,201),new w(106,198),new w(112,194),new w(118,191),new w(124,187),new w(127,186),new w(132,183),new w(138,181),new w(141,180),new w(146,178),new w(154,173),new w(159,171),new w(161,170),new w(166,167),new w(168,167),new w(171,166),new w(174,164),new w(177,162),new w(180,160),new w(182,158),new w(183,156),new w(181,154),new w(178,153),new w(171,153),new w(164,153),new w(160,153),new w(150,154),new w(147,155),new w(141,157),new w(137,158),new w(135,158),new w(137,158),new w(140,157),new w(143,156),new w(151,154),new w(160,152),new w(170,149),new w(179,147),new w(185,145),new w(192,144),new w(196,144),new w(198,144),new w(200,144),new w(201,147),new w(199,149),new w(194,157),new w(191,160),new w(186,167),new w(180,176),new w(177,179),new w(171,187),new w(169,189),new w(165,194),new w(164,196))),this.unistrokes[8]=new r("left square bracket",new Array(new w(140,124),new w(138,123),new w(135,122),new w(133,123),new w(130,123),new w(128,124),new w(125,125),new w(122,124),new w(120,124),new w(118,124),new w(116,125),new w(113,125),new w(111,125),new w(108,124),new w(106,125),new w(104,125),new w(102,124),new w(100,123),new w(98,123),new w(95,124),new w(93,123),new w(90,124),new w(88,124),new w(85,125),new w(83,126),new w(81,127),new w(81,129),new w(82,131),new w(82,134),new w(83,138),new w(84,141),new w(84,144),new w(85,148),new w(85,151),new w(86,156),new w(86,160),new w(86,164),new w(86,168),new w(87,171),new w(87,175),new w(87,179),new w(87,182),new w(87,186),new w(88,188),new w(88,195),new w(88,198),new w(88,201),new w(88,207),new w(89,211),new w(89,213),new w(89,217),new w(89,222),new w(88,225),new w(88,229),new w(88,231),new w(88,233),new w(88,235),new w(89,237),new w(89,240),new w(89,242),new w(91,241),new w(94,241),new w(96,240),new w(98,239),new w(105,240),new w(109,240),new w(113,239),new w(116,240),new w(121,239),new w(130,240),new w(136,237),new w(139,237),new w(144,238),new w(151,237),new w(157,236),new w(159,237))),this.unistrokes[9]=new r("right square bracket",new Array(new w(112,138),new w(112,136),new w(115,136),new w(118,137),new w(120,136),new w(123,136),new w(125,136),new w(128,136),new w(131,136),new w(134,135),new w(137,135),new w(140,134),new w(143,133),new w(145,132),new w(147,132),new w(149,132),new w(152,132),new w(153,134),new w(154,137),new w(155,141),new w(156,144),new w(157,152),new w(158,161),new w(160,170),new w(162,182),new w(164,192),new w(166,200),new w(167,209),new w(168,214),new w(168,216),new w(169,221),new w(169,223),new w(169,228),new w(169,231),new w(166,233),new w(164,234),new w(161,235),new w(155,236),new w(147,235),new w(140,233),new w(131,233),new w(124,233),new w(117,235),new w(114,238),new w(112,238))),this.unistrokes[10]=new r("v",new Array(new w(89,164),new w(90,162),new w(92,162),new w(94,164),new w(95,166),new w(96,169),new w(97,171),new w(99,175),new w(101,178),new w(103,182),new w(106,189),new w(108,194),new w(111,199),new w(114,204),new w(117,209),new w(119,214),new w(122,218),new w(124,222),new w(126,225),new w(128,228),new w(130,229),new w(133,233),new w(134,236),new w(136,239),new w(138,240),new w(139,242),new w(140,244),new w(142,242),new w(142,240),new w(142,237),new w(143,235),new w(143,233),new w(145,229),new w(146,226),new w(148,217),new w(149,208),new w(149,205),new w(151,196),new w(151,193),new w(153,182),new w(155,172),new w(157,165),new w(159,160),new w(162,155),new w(164,150),new w(165,148),new w(166,146))),this.unistrokes[11]=new r("delete",new Array(new w(123,129),new w(123,131),new w(124,133),new w(125,136),new w(127,140),new w(129,142),new w(133,148),new w(137,154),new w(143,158),new w(145,161),new w(148,164),new w(153,170),new w(158,176),new w(160,178),new w(164,183),new w(168,188),new w(171,191),new w(175,196),new w(178,200),new w(180,202),new w(181,205),new w(184,208),new w(186,210),new w(187,213),new w(188,215),new w(186,212),new w(183,211),new w(177,208),new w(169,206),new w(162,205),new w(154,207),new w(145,209),new w(137,210),new w(129,214),new w(122,217),new w(118,218),new w(111,221),new w(109,222),new w(110,219),new w(112,217),new w(118,209),new w(120,207),new w(128,196),new w(135,187),new w(138,183),new w(148,167),new w(157,153),new w(163,145),new w(165,142),new w(172,133),new w(177,127),new w(179,127),new w(180,125))),this.unistrokes[12]=new r("left curly brace",new Array(new w(150,116),new w(147,117),new w(145,116),new w(142,116),new w(139,117),new w(136,117),new w(133,118),new w(129,121),new w(126,122),new w(123,123),new w(120,125),new w(118,127),new w(115,128),new w(113,129),new w(112,131),new w(113,134),new w(115,134),new w(117,135),new w(120,135),new w(123,137),new w(126,138),new w(129,140),new w(135,143),new w(137,144),new w(139,147),new w(141,149),new w(140,152),new w(139,155),new w(134,159),new w(131,161),new w(124,166),new w(121,166),new w(117,166),new w(114,167),new w(112,166),new w(114,164),new w(116,163),new w(118,163),new w(120,162),new w(122,163),new w(125,164),new w(127,165),new w(129,166),new w(130,168),new w(129,171),new w(127,175),new w(125,179),new w(123,184),new w(121,190),new w(120,194),new w(119,199),new w(120,202),new w(123,207),new w(127,211),new w(133,215),new w(142,219),new w(148,220),new w(151,221))),this.unistrokes[13]=new r("right curly brace",new Array(new w(117,132),new w(115,132),new w(115,129),new w(117,129),new w(119,128),new w(122,127),new w(125,127),new w(127,127),new w(130,127),new w(133,129),new w(136,129),new w(138,130),new w(140,131),new w(143,134),new w(144,136),new w(145,139),new w(145,142),new w(145,145),new w(145,147),new w(145,149),new w(144,152),new w(142,157),new w(141,160),new w(139,163),new w(137,166),new w(135,167),new w(133,169),new w(131,172),new w(128,173),new w(126,176),new w(125,178),new w(125,180),new w(125,182),new w(126,184),new w(128,187),new w(130,187),new w(132,188),new w(135,189),new w(140,189),new w(145,189),new w(150,187),new w(155,186),new w(157,185),new w(159,184),new w(156,185),new w(154,185),new w(149,185),new w(145,187),new w(141,188),new w(136,191),new w(134,191),new w(131,192),new w(129,193),new w(129,195),new w(129,197),new w(131,200),new w(133,202),new w(136,206),new w(139,211),new w(142,215),new w(145,220),new w(147,225),new w(148,231),new w(147,239),new w(144,244),new w(139,248),new w(134,250),new w(126,253),new w(119,253),new w(115,253))),this.unistrokes[14]=new r("star",new Array(new w(75,250),new w(75,247),new w(77,244),new w(78,242),new w(79,239),new w(80,237),new w(82,234),new w(82,232),new w(84,229),new w(85,225),new w(87,222),new w(88,219),new w(89,216),new w(91,212),new w(92,208),new w(94,204),new w(95,201),new w(96,196),new w(97,194),new w(98,191),new w(100,185),new w(102,178),new w(104,173),new w(104,171),new w(105,164),new w(106,158),new w(107,156),new w(107,152),new w(108,145),new w(109,141),new w(110,139),new w(112,133),new w(113,131),new w(116,127),new w(117,125),new w(119,122),new w(121,121),new w(123,120),new w(125,122),new w(125,125),new w(127,130),new w(128,133),new w(131,143),new w(136,153),new w(140,163),new w(144,172),new w(145,175),new w(151,189),new w(156,201),new w(161,213),new w(166,225),new w(169,233),new w(171,236),new w(174,243),new w(177,247),new w(178,249),new w(179,251),new w(180,253),new w(180,255),new w(179,257),new w(177,257),new w(174,255),new w(169,250),new w(164,247),new w(160,245),new w(149,238),new w(138,230),new w(127,221),new w(124,220),new w(112,212),new w(110,210),new w(96,201),new w(84,195),new w(74,190),new w(64,182),new w(55,175),new w(51,172),new w(49,170),new w(51,169),new w(56,169),new w(66,169),new w(78,168),new w(92,166),new w(107,164),new w(123,161),new w(140,162),new w(156,162),new w(171,160),new w(173,160),new w(186,160),new w(195,160),new w(198,161),new w(203,163),new w(208,163),new w(206,164),new w(200,167),new w(187,172),new w(174,179),new w(172,181),new w(153,192),new w(137,201),new w(123,211),new w(112,220),new w(99,229),new w(90,237),new w(80,244),new w(73,250),new w(69,254),new w(69,252))),this.unistrokes[15]=new r("pigtail",new Array(new w(81,219),new w(84,218),new w(86,220),new w(88,220),new w(90,220),new w(92,219),new w(95,220),new w(97,219),new w(99,220),new w(102,218),new w(105,217),new w(107,216),new w(110,216),new w(113,214),new w(116,212),new w(118,210),new w(121,208),new w(124,205),new w(126,202),new w(129,199),new w(132,196),new w(136,191),new w(139,187),new w(142,182),new w(144,179),new w(146,174),new w(148,170),new w(149,168),new w(151,162),new w(152,160),new w(152,157),new w(152,155),new w(152,151),new w(152,149),new w(152,146),new w(149,142),new w(148,139),new w(145,137),new w(141,135),new w(139,135),new w(134,136),new w(130,140),new w(128,142),new w(126,145),new w(122,150),new w(119,158),new w(117,163),new w(115,170),new w(114,175),new w(117,184),new w(120,190),new w(125,199),new w(129,203),new w(133,208),new w(138,213),new w(145,215),new w(155,218),new w(164,219),new w(166,219),new w(177,219),new w(182,218),new w(192,216),new w(196,213),new w(199,212),new w(201,211)))}var e=n.prototype;return e.Recognize=function(n,e){for(var w=Date.now(),t=new r("",n),s=-1,h=1/0,o=0;o<this.unistrokes.length;o++){var y;(y=e?v(this.unistrokes[o].vector,t.vector):f(t.points,this.unistrokes[o],-u,+u,c))<h&&(h=y,s=o)}var l=Date.now();return-1==s?new i("No match.",0,l-w):new i(this.unistrokes[s].name,e?1-h:1-h/a,l-w)},e.AddGesturefunction=function(n,e){this.unistrokes[this.unistrokes.length]=new r(n,e);for(var w=0,t=0;t<this.unistrokes.length;t++)this.unistrokes[t].name==n&&w++;return w},e.DeleteUserGestures=function(){return this.unistrokes.length=16,16},n}());function l(n,e){for(var t=k(n),r=Math.cos(e),i=Math.sin(e),s=new Array,h=0;h<n.length;h++){var o=(n[h].x-t.x)*r-(n[h].y-t.y)*i+t.x,a=(n[h].x-t.x)*i+(n[h].y-t.y)*r+t.y;s[s.length]=new w(o,a)}return s}function v(n,e){for(var w=0,t=0,r=0;r<n.length;r+=2)w+=n[r]*e[r]+n[r+1]*e[r+1],t+=n[r]*e[r+1]-n[r+1]*e[r];var i=Math.atan(t/w);return Math.acos(w*Math.cos(i)+t*Math.sin(i))}function f(n,e,w,t,r){for(var i=y*w+(1-y)*t,s=g(n,e,i),h=(1-y)*w+y*t,o=g(n,e,h);Math.abs(t-w)>r;)s<o?(t=h,h=i,o=s,s=g(n,e,i=y*w+(1-y)*t)):(w=i,i=h,s=o,o=g(n,e,h=(1-y)*w+y*t));return Math.min(s,o)}function g(n,e,w){return function(n,e){for(var w=0,t=0;t<n.length;t++)w+=x(n[t],e[t]);return w/n.length}(l(n,w),e.points)}function k(n){for(var e=0,t=0,r=0;r<n.length;r++)e+=n[r].x,t+=n[r].y;return e/=n.length,t/=n.length,new w(e,t)}function x(n,e){var w=e.x-n.x,t=e.y-n.y;return Math.sqrt(w*w+t*t)}function A(n){return n*Math.PI/180}e._RF.pop()}}}));

System.register("chunks:///_virtual/dollarQ.ts",["cc","./GestureManager.ts"],(function(t){"use strict";var n,r;return{setters:[function(t){n=t.cclegacy},function(t){r=t.default}],execute:function(){n._RF.push({},"fc97cIYzllKYZbxXRDaESkI","dollarQ",void 0);var i=t("Point",(function(t,n,r){this.x=void 0,this.y=void 0,this.id=void 0,this.IntX=void 0,this.IntY=void 0,this.x=t,this.y=n,this.id=r,this.IntX=0,this.IntY=0})),e=new i(0,0,0),o=64,s=16,h=t("Unistroke",(function(t,n){this.name=void 0,this.points=void 0,this.vector=void 0,this.LUT=void 0,this.name=t,this.points=function(t,n){for(var r=function(t){for(var n=0,r=1;r<t.length;r++)t[r].id==t[r-1].id&&(n+=c(t[r-1],t[r]));return n}(t)/(n-1),e=0,o=new Array(t[0]),s=1;s<t.length;s++)if(t[s].id==t[s-1].id){var h=c(t[s-1],t[s]);if(e+h>=r){var a=t[s-1].x+(r-e)/h*(t[s].x-t[s-1].x),u=t[s-1].y+(r-e)/h*(t[s].y-t[s-1].y),v=new i(a,u,t[s].id);o[o.length]=v,t.splice(s,0,v),e=0}else e+=h}o.length==n-1&&(o[o.length]=new i(t[t.length-1].x,t[t.length-1].y,t[t.length-1].id));return o}(n,32),this.points=function(t){for(var n=1/0,r=-1/0,e=1/0,o=-1/0,s=0;s<t.length;s++)n=Math.min(n,t[s].x),e=Math.min(e,t[s].y),r=Math.max(r,t[s].x),o=Math.max(o,t[s].y);var h=Math.max(r-n,o-e),a=new Array;for(s=0;s<t.length;s++){var u=(t[s].x-n)/h,v=(t[s].y-e)/h;a[a.length]=new i(u,v,t[s].id)}return a}(this.points),this.points=function(t,n){for(var r=function(t){for(var n=0,r=0,e=0;e<t.length;e++)n+=t[e].x,r+=t[e].y;return n/=t.length,r/=t.length,new i(n,r,0)}(t),e=new Array,o=0;o<t.length;o++){var s=t[o].x+n.x-r.x,h=t[o].y+n.y-r.y;e[e.length]=new i(s,h,t[o].id)}return e}(this.points,e),this.points=function(t){for(var n=0;n<t.length;n++)t[n].IntX=Math.round((t[n].x+1)/2*1023),t[n].IntY=Math.round((t[n].y+1)/2*1023);return t}(this.points),this.LUT=function(t){for(var n=new Array,r=0;r<o;r++)n[r]=new Array;for(var i=0;i<o;i++)for(var e=0;e<o;e++){var h=-1,a=1/0;for(r=0;r<t.length;r++){var u=Math.round(t[r].IntX/s),v=Math.round(t[r].IntY/s),f=(u-i)*(u-i)+(v-e)*(v-e);f<a&&(a=f,h=r)}n[i][e]=h}return n}(this.points)})),a=t("Result",(function(t,n,r){this.name=void 0,this.score=void 0,this.time=void 0,this.name=t,this.score=n,this.time=r}));t("DollarRecognizer",function(){function t(){this.unistrokes=void 0,this.unistrokes=r.getGestureDatas()}var n=t.prototype;return n.Recognize=function(t){for(var n=Date.now(),r=new h("",t),i=-1,e=1/0,o=0;o<this.unistrokes.length;o++){var s=u(r,this.unistrokes[o],e);s<e&&(e=s,i=o)}var v=Date.now();return-1==i?new a("No match.",0,v-n):new a(this.unistrokes[i].name,e>1?1/e:1,v-n)},n.AddGesture=function(t,n){this.unistrokes[this.unistrokes.length]=new h(t,n);for(var r=0,i=0;i<this.unistrokes.length;i++)this.unistrokes[i].name==t&&r++;return console.log(this.unistrokes),r},n.DeleteUserGestures=function(){return this.unistrokes.length=16,16},t}());function u(t,n,r){for(var i=t.points.length,e=Math.floor(Math.pow(i,.5)),o=f(t.points,n.points,e,n.LUT),s=f(n.points,t.points,e,t.LUT),h=0,a=0;h<i;h+=e,a++)o[a]<r&&(r=Math.min(r,v(t.points,n.points,h,r))),s[a]<r&&(r=Math.min(r,v(n.points,t.points,h,r)));return r}function v(t,n,r,i){for(var e=t.length,o=new Array,s=0;s<e;s++)o[s]=s;var h=r,a=e,u=0;do{var v=-1,f=1/0;for(s=0;s<o.length;s++){var c=l(t[h],n[o[s]]);c<f&&(f=c,v=s)}if(o.splice(v,1),(u+=a*f)>=i)return u;a--,h=(h+1)%e}while(h!=r);return u}function f(t,n,r,i){var e=t.length,o=new Array(Math.floor(e/r)+1),h=new Array(e);o[0]=0;for(var a=0;a<e;a++){var u=Math.round(t[a].IntX/s),v=Math.round(t[a].IntY/s),f=i[u][v],c=l(t[a],n[f]);h[a]=0==a?c:h[a-1]+c,o[0]+=(e-a)*c}a=r;for(var d=1;a<e;a+=r,d++)o[d]=o[0]+a*h[e-1]-e*h[a-1];return o}function l(t,n){var r=n.x-t.x,i=n.y-t.y;return r*r+i*i}function c(t,n){var r=l(t,n);return Math.sqrt(r)}n._RF.pop()}}}));

System.register("chunks:///_virtual/EditorTool.ts",["cc"],(function(t){"use strict";var c;return{setters:[function(t){c=t.cclegacy}],execute:function(){c._RF.push({},"4dcc28FmaZDS6zIj2O4OJVH","EditorTool",void 0);t("default",(function(){}));c._RF.pop()}}}));

System.register("chunks:///_virtual/EffectContent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResManager.ts","./EffectModel.ts","./Enums.ts"],(function(t){"use strict";var e,n,i,o,r,a,c,s,f,l,u,p,h,y,E,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,c=t.Prefab,s=t.Tween,f=t.tween,l=t.Vec3,u=t.Animation,p=t.Component},function(t){h=t.ResManager},function(t){y=t.EffectType},function(t){E=t.CELL_WIDTH,b=t.CELL_HEIGHT}],execute:function(){var m,g,d,v,C,_,L;r._RF.push({},"5a756vAku5HepRE4Lf5goU3","EffectContent",void 0);var R=a.ccclass,w=a.property;t("EffectContent",(m=R("EffectContent"),g=w({type:c,tooltip:"横向、竖向爆炸特效"}),d=w({type:c,tooltip:"消除特效"}),m((_=e((C=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"bombWhite",_,o(e)),i(e,"crushEffect",L,o(e)),e}return n(e,t),e.prototype.playEffects=function(t){!t||t.length<=0||t.forEach((function(t){var e=t.playTime,n=t.pos,i=t.type,o=(t.step,null),r=new s(this.node);r.then(f().delay(e)),i===y.CRUSH?o=h.instantiate(this.crushEffect):i===y.ROW_BOMB?o=h.instantiate(this.bombWhite):i===y.COL_BOMB?(o=h.instantiate(this.bombWhite)).angle=90:y.WRAP_BOMB,o.setPosition(new l(E*(n.x-.5),b*(n.y-.5)));var a=o.getComponent(u);o.parent=this.node,a.on(u.EventType.FINISHED,(function(){o.removeFromParent()}),this),r.then(f().call(function(){a.play()}.bind(this))),r.clone(this.node).start()}),this)},e}(p)).prototype,"bombWhite",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(C.prototype,"crushEffect",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=C))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/EffectModel.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){var i;t("EffectType",void 0),e._RF.push({},"6b34fakF81FaK2f4WmF3xBm","EffectModel",void 0),function(t){t[t.CRUSH=0]="CRUSH",t[t.ROW_BOMB=1]="ROW_BOMB",t[t.COL_BOMB=2]="COL_BOMB",t[t.WRAP_BOMB=3]="WRAP_BOMB"}(i||(i=t("EffectType",{})));t("default",(function(t,e,i,s){void 0===s&&(s=0),this.playTime=void 0,this.pos=void 0,this.type=void 0,this.step=void 0,this.playTime=t,this.pos=e,this.type=i,this.step=s}));e._RF.pop()}}}));

System.register("chunks:///_virtual/En.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"3831a75cFNNebXRQ6UjYbsd","En",void 0);t("default",{lang:"English",text1:"number: %{num}",text2:"param1: %{arg1}, param2: %{arg2}"});e._RF.pop()}}}));

System.register("chunks:///_virtual/Enums.ts",["cc"],(function(e){"use strict";var a,t,E,n,o,i;return{setters:[function(e){a=e.cclegacy,t=e._decorator,E=e.Prefab,n=e.JsonAsset,o=e.AudioClip,i=e.SpriteAtlas}],execute:function(){e({BtnClickParam:void 0,CELL_STATUS:void 0,CELL_TYPE:void 0,CellActionType:void 0,DelayCallType:void 0,EventName:void 0,GameState:void 0,SoundClips:void 0}),a._RF.push({},"236a8BajkBLoZOrwiogo/U6","Enums",void 0);var T,_,u,c,s,C,r,A;t.ccclass,t.property,e("AssetType",{Prefab:{type:E,path:"prefabs/"},Json:{type:n,path:"jsons/"},Sound:{type:o,path:"audio/sound/"},Atlas:{type:i,path:"atlas/"}});!function(e){e.bgm="bgm",e.counter="counter",e.btn="btn",e.touch="touch",e.gold="gold",e.reward="reward",e.merge="merge",e.win="win",e.lose="lose"}(T||(T=e("SoundClips",{}))),function(e){e[e.defaultState=0]="defaultState",e[e.gameFail=1]="gameFail",e[e.gameRuning=2]="gameRuning",e[e.gameSucess=3]="gameSucess"}(_||(_=e("GameState",{}))),function(e){e[e.again=0]="again",e[e.backHome=1]="backHome",e[e.receive=2]="receive",e[e.gameStart=3]="gameStart",e[e.gamePause=4]="gamePause",e[e.gameResume=5]="gameResume"}(u||(u=e("BtnClickParam",{}))),function(e){e[e.TYPE_REPLACE=1]="TYPE_REPLACE",e[e.TYPE_SET_DATA=2]="TYPE_SET_DATA",e[e.TYPE_NEW=3]="TYPE_NEW"}(c||(c=e("DelayCallType",{}))),function(e){e.UPDATE_LOCALIZED_CMPT="update-localized-cmpt"}(s||(s=e("EventName",{}))),function(e){e[e.EMPTY=0]="EMPTY",e[e.BEAR=1]="BEAR",e[e.CAT=2]="CAT",e[e.FOX=3]="FOX",e[e.CHICKEN=4]="CHICKEN",e[e.FROG=5]="FROG",e[e.HORSE=6]="HORSE",e[e.BIRD=7]="BIRD"}(C||(C=e("CELL_TYPE",{}))),function(e){e[e.COMMON=0]="COMMON",e[e.CLICK=1]="CLICK",e[e.ROW=2]="ROW",e[e.COLUMN=3]="COLUMN",e[e.WRAP=4]="WRAP",e[e.SAME=5]="SAME"}(r||(r=e("CELL_STATUS",{}))),function(e){e[e.MOVE_TO=0]="MOVE_TO",e[e.DIE_TO=1]="DIE_TO",e[e.SHAKE_TO=2]="SHAKE_TO",e[e.SET_VISIBLE=3]="SET_VISIBLE"}(A||(A=e("CellActionType",{})));e("ANITIME",{TOUCH_MOVE:.3,DIE:.1,DOWN:.3,BOMB_DELAY:.1,BOMB_BIRD_DELAY:.4,DIE_SHAKE:.3}),e("CELL_BASENUM",6);var S=e("GRID_WIDTH",9),l=e("GRID_HEIGHT",9),m=e("CELL_WIDTH",83),I=e("CELL_HEIGHT",83);e("CRUSH_NUM",3),e("GRID_PIXEL_WIDTH",S*m),e("GRID_PIXEL_HEIGHT",l*I);a._RF.pop()}}}));

System.register("chunks:///_virtual/EventManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var e,t;return{setters:[function(n){e=n.createClass},function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"08582goeYROpJwFXPtAsJli","EventManager",void 0),n("EventManager",function(){function n(){}return e(n,null,[{key:"instance",get:function(){return this._instance||(this._instance=new EventTarget),this._instance}}]),n}())._instance=null,t._RF.pop()}}}));

System.register("chunks:///_virtual/FrameAnimation.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,e,s,r,n,a;return{setters:[function(t){i=t.inheritsLoose,e=t.createClass},function(t){s=t.cclegacy,r=t._decorator,n=t.Sprite,a=t.Component}],execute:function(){var h;s._RF.push({},"e0b5bcUN4VDlYn0gnhJPAyN","FrameAnimation",void 0);var p=r.ccclass;r.property,t("FrameAnimation",p("FrameAnimation")(h=function(t){function s(){for(var i,e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return(i=t.call.apply(t,[this].concat(s))||this).playSpeed=.1,i.playOnLoad=!1,i.idle=null,i.sprite=null,i.isLoop=!0,i.isFirstFrameInEnd=!1,i.isInvertedPlay=!1,i.backFunc=null,i.isPlaying=!1,i.timeSum=0,i.nextIndex=0,i._spriteFrameArr=[],i}i(s,t);var r=s.prototype;return r.onLoad=function(){this.sprite=this.node.getComponent(n)},r.start=function(){this.playOnLoad&&this.play(!0)},r.stop=function(){this.isPlaying=!1,null===this.idle?this.sprite.spriteFrame=this._spriteFrameArr[0]:this.sprite.spriteFrame=this.idle},r.play=function(t,i,e,s,r){void 0===i&&(i=.1),void 0===e&&(e=!0),void 0===s&&(s=!1),void 0===r&&(r=null),this.isLoop=t,this.isFirstFrameInEnd=e,this.isInvertedPlay=s,this.backFunc=r,this.nextIndex=0,this.timeSum=0,this.playSpeed=i,this.isInvertedPlay&&this._spriteFrameArr.reverse(),this.isPlaying=!0},r.setCurSpriteFrame=function(t){this.sprite.spriteFrame=t},r.setIdle=function(t){this.idle=t},r.getDuring=function(){return this.playSpeed*this._spriteFrameArr.length},r.update=function(t){this.isPlaying&&(this.timeSum+=t,this.timeSum>=this.playSpeed&&(this.sprite.spriteFrame=this._spriteFrameArr[this.nextIndex++],this.timeSum=0,this.nextIndex>=this._spriteFrameArr.length&&(this.isLoop?this.nextIndex=0:(this.isPlaying=!1,this.idle?this.sprite.spriteFrame=this.idle:this.isFirstFrameInEnd&&(this.sprite.spriteFrame=this._spriteFrameArr[0]),this.isInvertedPlay&&(this._spriteFrameArr.reverse(),this.isInvertedPlay=!1),null!=this.backFunc&&this.backFunc()))))},e(s,[{key:"spriteFrameArr",set:function(t){this._spriteFrameArr=t}}]),s}(a))||h);s._RF.pop()}}}));

System.register("chunks:///_virtual/GameLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Url.ts","./GridView.ts","./ResManager.ts","./GameModel.ts"],(function(e){"use strict";var t,i,n,r,o,l,a,s,c,u,d,p,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator,a=e.Node,s=e.SpriteAtlas,c=e.Component},function(e){u=e.DirUrl},function(e){d=e.GridView},function(e){p=e.ResManager},function(e){f=e.default}],execute:function(){var g,m,h,y,M;o._RF.push({},"fcd177nzVVBP60DDn+gLCxV","GameLayer",void 0);var C=l.ccclass,L=l.property;e("GameLayer",(g=C("GameLayer"),m=L({type:a,tooltip:"网格节点"}),g((M=t((y=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return(t=e.call.apply(e,[this].concat(o))||this).gameModel=null,n(t,"grid",M,r(t)),t}i(t,e);var o=t.prototype;return o.onLoad=function(){this.gameModel=new f,this.gameModel.init(4);var e=this.grid.getComponent(d);e.setController(this),e.initWithCellModels(this.gameModel.getCells()),p.loadDir(u.ATLAS.CELL_ANIM,s)},o.selectCell=function(e){return this.gameModel.selectCell(e)},o.cleanCmd=function(){this.gameModel.cleanCmd()},t}(c)).prototype,"grid",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=y))||h));o._RF.pop()}}}));

System.register("chunks:///_virtual/GameModel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utils.ts","./CellModel.ts","./EffectModel.ts","./Enums.ts"],(function(e){"use strict";var s,t,l,i,h,c,n,r,u,a,o,f,M,C,y,p;return{setters:[function(e){s=e.createForOfIteratorHelperLoose},function(e){t=e.cclegacy,l=e._decorator,i=e.v2,h=e.Vec2},function(e){c=e.Utils},function(e){n=e.default},function(e){r=e.default,u=e.EffectType},function(e){a=e.GRID_WIDTH,o=e.GRID_HEIGHT,f=e.CRUSH_NUM,M=e.CELL_STATUS,C=e.CELL_BASENUM,y=e.ANITIME,p=e.CELL_TYPE}],execute:function(){t._RF.push({},"301d2SliWBAYpowFdWEbw5l","GameModel",void 0);l.ccclass,l.property,e("default",function(){function e(){this.cells=[],this.lastPos=null,this.cellTypeNum=null,this.cellCreateType=[],this.changeModels=[],this.effectsQueue=[],this.curTime=0,this.cells=null,this.lastPos=new h(-1,-1),this.cellTypeNum=5,this.cellCreateType=[]}var t=e.prototype;return t.init=function(e){this.cells=[],this.setCellTypeNum(e||this.cellTypeNum);for(var s=1;s<=a;s++){this.cells[s]=[];for(var t=1;t<=o;t++)this.cells[s][t]=new n}for(var l=1;l<=a;l++)for(var i=1;i<=o;i++)if(null==this.cells[l][i].type)for(var h=!0;h;){h=!1,this.cells[l][i].init(this.getRandomCellType()),this.checkPoint(i,l).samePoints.length>f-1&&(h=!0),this.cells[l][i].setXY(i,l),this.cells[l][i].setStartXY(i,l)}},t.getCells=function(){return this.cells},t.getRandomCellType=function(){var e=c.instance.randInt(0,this.cellTypeNum);return this.cellCreateType[e]},t.checkPoint=function(e,t,l){void 0===l&&(l=!1);var h=this.checkWithDirection(e,t,[i(1,0),i(-1,0)]),c=this.checkWithDirection(e,t,[i(0,-1),i(0,1)]),n=[],r=M.COMMON;h.length>=f+2||c.length>=f+2?r=M.SAME:h.length>=f&&c.length>=f?r=M.WRAP:h.length>=f+1?r=M.ROW:c.length>=f+1&&(r=M.COLUMN),h.length>=f&&(n=h),c.length>=f&&(n=this.mergePointArray(n,c));var u={samePoints:n,newCellStatus:r,newCellType:this.cells[t][e].type,crushPoint:i(e,t)};if(l&&n.length>=f)for(var a,o=this.exclusivePoint(n,i(e,t)),C=s(o);!(a=C()).done;){var y=a.value,p=this.checkPoint(y.x,y.y,!1);(p.newCellStatus>u.newCellStatus||p.newCellStatus===u.newCellStatus&&p.samePoints.length>u.samePoints.length)&&(u=p)}return u},t.exclusivePoint=function(e,t){for(var l,i=new Array,h=s(e);!(l=h()).done;){var c=l.value;c.equals(t)||i.push(c)}return i},t.mergePointArray=function(e,s){var t=e.concat();return s=s.filter((function(e){var s=!1;return t.forEach((function(t){e.equals(t)&&(s=!0)}),this),!s})),t.push.apply(t,s),t},t.checkWithDirection=function(e,s,t){var l=[],h=[];h[e+9*s]=!0,l.push(i(e,s));for(var c=0;c<l.length;){var n=l[c],r=this.cells[n.y][n.x];if(c++,r)for(var u=0;u<t.length;u++){var a=n.x+t[u].x,o=n.y+t[u].y;a<1||a>9||o<1||o>9||h[a+9*o]||!this.cells[o][a]||r.type===this.cells[o][a].type&&(h[a+9*o]=!0,l.push(i(a,o)))}}return l},t.setCellTypeNum=function(e){console.log("num = ",e),this.cellTypeNum=e,this.cellCreateType=[];for(var s=1;s<=C;s++)this.cellCreateType.push(s);console.log("打乱前的数组：",this.cellCreateType),c.instance.shuffle(this.cellCreateType,!0),console.log("打乱后的数组：",this.cellCreateType)},t.selectCell=function(e){this.changeModels=[],this.effectsQueue=[];var s=this.lastPos;if(1!=Math.abs(e.x-s.x)+Math.abs(e.y-s.y))return this.lastPos=e,{changeModels:this.changeModels,effectsQueue:this.effectsQueue};var t=this.cells[e.y][e.x],l=this.cells[s.y][s.x];this.exchangeCell(s,e);var h=this.checkPoint(e.x,e.y).samePoints,c=this.checkPoint(s.x,s.y).samePoints;this.curTime=0,this.pushToChangeModels(t),this.pushToChangeModels(l);var n=t.status!=M.COMMON&&l.status!=M.COMMON||t.status==M.SAME||l.status==M.SAME;if(h.length<f&&c.length<f&&!n)this.exchangeCell(s,e),t.moveToAndBack(s),l.moveToAndBack(e),this.lastPos=i(-1,-1);else{this.lastPos=i(-1,-1),t.moveTo(s,this.curTime),l.moveTo(e,this.curTime);var r=[t,l];this.curTime+=y.TOUCH_MOVE,this.processCrush(r)}return{changeModels:this.changeModels,effectsQueue:this.effectsQueue}},t.processCrush=function(e){for(var s=0;e.length>0;){var t=[];if(0==s&&2==e.length){var l=e[0],h=e[1],c=this.cells[l.y][l.x],n=this.cells[h.y][h.x];c.status!=M.SAME&&n.status!=M.SAME||(c.status==M.SAME?(c.type=n.type,t.push(c)):(n.type=c.type,t.push(n)))}for(var r in e){var u=i(e[r].x,e[r].y);if(this.cells[u.y][u.x]){var a=this.checkPoint(u.x,u.y,!0),o=a.samePoints,C=a.newCellStatus,p=a.newCellType,O=a.crushPoint;if(!(o.length<f)){for(var v in o){var T=this.cells[o[v].y][o[v].x],g=O.equals(o[v]);this.crushCell(o[v].x,o[v].y,!1,s,g),T.status!=M.COMMON&&t.push(T)}this.createNewCell(O,C,p)}}}this.processBomb(t,s),this.curTime+=y.DIE,e=this.down(),s++}},t.down=function(){for(var e=[],s=[M.COMMON,M.COMMON,M.COMMON,M.COMMON,M.COMMON,M.COMMON,M.COMMON,M.COMMON,M.COMMON,M.COMMON,M.COMMON,M.COMMON,M.COMMON,M.COMMON,M.COMMON,M.COMMON,M.COMMON,M.COMMON,M.ROW,M.COLUMN,M.WRAP],t=1;t<=a;t++)for(var l=1;l<=o;l++)if(null==this.cells[t][l]){for(var h=t,r=h;r<=o;r++)this.cells[r][l]&&(this.pushToChangeModels(this.cells[r][l]),e.push(this.cells[r][l]),this.cells[h][l]=this.cells[r][l],this.cells[r][l]=null,this.cells[h][l].setXY(l,h),this.cells[h][l].moveTo(i(l,h),this.curTime),h++);for(var u=1,f=h;f<=o;f++){c.instance.randInt(0,s.length);this.cells[f][l]=new n,this.cells[f][l].init(this.getRandomCellType()),this.cells[f][l].setStartXY(l,u+o),this.cells[f][l].setXY(l,u+o),this.cells[f][l].moveTo(i(l,f),this.curTime),this.changeModels.push(this.cells[f][l]),e.push(this.cells[f][l]),u++}}return this.curTime+=y.TOUCH_MOVE+.3,e},t.processBomb=function(e,s){for(var t=this,l=function(){var l=[],h=y.BOMB_DELAY;e.forEach((function(e){if(e.status==M.ROW){for(var t=1;t<=a;t++)this.cells[e.y][t]&&(this.cells[e.y][t].status!=M.COMMON&&l.push(this.cells[e.y][t]),this.crushCell(t,e.y,!1,s));this.effectsQueue.push(new r(this.curTime,i(e.x,e.y),u.ROW_BOMB))}else if(e.status==M.COLUMN){for(var c=1;c<=o;c++)this.cells[c][e.x]&&(this.cells[c][e.x].status!=M.COMMON&&l.push(this.cells[c][e.x]),this.crushCell(e.x,c,!1,s));this.effectsQueue.push(new r(this.curTime,i(e.x,e.y),u.COL_BOMB))}else if(e.status==M.WRAP)for(var n=e.x,f=e.y,C=1;C<=o;C++)for(var O=1;O<=a;O++){var v=Math.abs(n-O)+Math.abs(f-C);this.cells[C][O]&&v<=2&&(this.cells[C][O].status!=M.COMMON&&l.push(this.cells[C][O]),this.crushCell(O,C,!1,s))}else if(e.status==M.SAME){var T=e.type;h<y.BOMB_BIRD_DELAY&&(h=y.BOMB_BIRD_DELAY),T==p.BIRD&&(T=this.getRandomCellType());for(var g=1;g<=o;g++)for(var m=1;m<=a;m++)this.cells[g][m]&&this.cells[g][m].type==T&&(this.cells[g][m].status!=M.COMMON&&l.push(this.cells[g][m]),this.crushCell(m,g,!0,s))}}),t),e.length>0&&(t.curTime+=h),e=l};e.length>0;)l()},t.createNewCell=function(e,s,t){if(s!==M.COMMON){s===M.SAME&&(t=p.BIRD);var l=new n;this.cells[e.y][e.x]=l,l.init(t),l.setStartXY(e.x,e.y),l.setXY(e.x,e.y),l.setStatus(s),l.setVisible(0,!1),l.setVisible(this.curTime,!0),this.changeModels.push(l)}},t.crushCell=function(e,s,t,l,h){var c=this.cells[s][e];this.pushToChangeModels(c),t&&c.toShake(this.curTime);var n=t?y.DIE_SHAKE:0;c.toDie(this.curTime+n+n),this.effectsQueue.push(new r(this.curTime+n,i(c.x,c.y),u.CRUSH,l)),this.cells[s][e]=null},t.exchangeCell=function(e,s){var t=this.cells[e.y][e.x];this.cells[e.y][e.x]=this.cells[s.y][s.x],this.cells[e.y][e.x].x=e.x,this.cells[e.y][e.x].y=e.y,this.cells[s.y][s.x]=t,this.cells[s.y][s.x].x=s.x,this.cells[s.y][s.x].y=s.y},t.pushToChangeModels=function(e){-1==this.changeModels.indexOf(e)&&this.changeModels.push(e)},t.cleanCmd=function(){for(var e=1;e<=a;e++)for(var s=1;s<=o;s++)this.cells[e][s]&&(this.cells[e][s].cmd=[])},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/GestureLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./dollarQ.ts","./PopUpManage.ts","./BasePopUp.ts"],(function(t){"use strict";var e,i,o,n,s,r,a,c,h,u,p,l,g,d,f,v,_;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,r=t._decorator,a=t.Node,c=t.EditBox,h=t.Graphics,u=t.director,p=t.Canvas,l=t.UITransform,g=t.Vec3},function(t){d=t.DollarRecognizer,f=t.Point},function(t){v=t.PopUpManage},function(t){_=t.BasePopUp}],execute:function(){var T,y,m,C,P,x,w;s._RF.push({},"c7b775xVoBKLawC6VVkmXt7","GestureLayer",void 0);var I=r.ccclass,L=r.property;t("GestureLayer",(T=I("GestureLayer"),y=L({type:a,tooltip:"画板"}),m=L({type:c,tooltip:"手势类型输入框"}),T((x=e((P=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return e=t.call.apply(t,[this].concat(s))||this,o(e,"graphicsNode",x,n(e)),o(e,"addEditBox",w,n(e)),e._gesture=null,e._gesturePoints=[],e.griphics=null,e.pointId=0,e._canvas=null,e}i(e,t);var s=e.prototype;return s.open=function(){},s.onLoad=function(){t.prototype.onLoad.call(this),this.graphicsNode.on(a.EventType.TOUCH_START,this.onTouchStart,this),this.graphicsNode.on(a.EventType.TOUCH_MOVE,this.onTouchMove,this),this.griphics=this.graphicsNode.getComponent(h);var e=u.getScene();this._canvas=e.getComponentInChildren(p).node},s.start=function(){this._gesturePoints=[],this._gesture=new d},s.onDisable=function(){this.graphicsNode.off(a.EventType.TOUCH_START,this.onTouchStart,this),this.graphicsNode.off(a.EventType.TOUCH_MOVE,this.onTouchMove,this),this._gesture=null,this._gesturePoints=[],this.pointId=0,this.griphics.clear()},s.onTouchStart=function(t){var e=t.getUILocation();this.pointId++;var i=this.node.getComponent(l).convertToNodeSpaceAR(new g(e.x,e.y));this.griphics.moveTo(i.x,i.y)},s.onTouchMove=function(t){var e=t.getUILocation();this._gesturePoints.push(new f(e.x,e.y,this.pointId));var i=this.node.getComponent(l).convertToNodeSpaceAR(new g(e.x,e.y));this.griphics.lineTo(i.x,i.y),this.griphics.stroke()},s.onClickRecognize=function(){if(this._gesture&&!(this._gesturePoints.length<=0)){var t=this._gesture.Recognize(this._gesturePoints);t.score>=.3?this._canvas.getComponent(v).showTip({text:"类型-"+t.name+",相似度-"+t.score.toFixed(2)+",耗时-"+t.time+"ms",unique:!0,end:new g(0,100,0),duration:1}):console.log(t.name,t.score,t.time)}},s.onClickClear=function(){this._gesturePoints=[],this.pointId=0,this.griphics.clear()},s.onClickAdd=function(){var t=this.addEditBox.string;if(""===t||!this._gesture||this._gesturePoints.length<=0)this._canvas.getComponent(v).showTip({text:"路径数据异常",unique:!0,end:new g(0,100,0),duration:.5});else{var e=this._gesture.AddGesture(t,this._gesturePoints);this._canvas.getComponent(v).showTip({text:"添加成功, 类型：（"+t+"），条数：（"+e+"）",unique:!0,end:new g(0,100,0),duration:.5}),this._gesturePoints=[],this.pointId=0,this.griphics.clear()}},e}(_)).prototype,"graphicsNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(P.prototype,"addEditBox",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=P))||C));s._RF.pop()}}}));

System.register("chunks:///_virtual/GestureManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./dollarQ.ts"],(function(t){"use strict";var e,n,r;return{setters:[function(t){e=t.createForOfIteratorHelperLoose},function(t){n=t.cclegacy},function(t){r=t.Unistroke}],execute:function(){n._RF.push({},"85318xs4PlFwo4Ws0vtzC/E","GestureManager",void 0),t("default",function(){function t(){}return t.init=function(t){for(var n,r,s=e(t);!(r=s()).done;){n=r.value;var u=this.initData(n);this.gestureDatas.push(u)}console.log("点阵信息:",this.gestureDatas)},t.initData=function(t){return new r(t.name,t.points)},t.getGestureDatas=function(){return this.gestureDatas},t}()).gestureDatas=[],n._RF.pop()}}}));

System.register("chunks:///_virtual/Global.ts",["cc","./Enums.ts"],(function(t){"use strict";var e,a;return{setters:[function(t){e=t.cclegacy},function(t){a=t.GameState}],execute:function(){e._RF.push({},"e18dcax+t5LTZEG2CuGaJ96","Global",void 0);var u=t("Global",(function(){}));u.LoadingRate=0,u.Debug=!0,u.GameState=a.defaultState,e._RF.pop()}}}));

System.register("chunks:///_virtual/GridView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EffectContent.ts","./MainTools.ts","./ResManager.ts","./NormalCellView.ts","./Enums.ts","./Utils.ts"],(function(e){"use strict";var t,i,n,o,l,s,r,c,a,h,f,u,p,v,d,T,y,C,m,w,g,M,I,V;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){l=e.cclegacy,s=e._decorator,r=e.Prefab,c=e.Node,a=e.NodeEventType,h=e.v2,f=e.UITransform,u=e.Vec3,p=e.Component},function(e){v=e.EffectContent},function(e){d=e.MainTools},function(e){T=e.ResManager},function(e){y=e.NormalCellView},function(e){C=e.GRID_PIXEL_WIDTH,m=e.GRID_PIXEL_HEIGHT,w=e.CELL_WIDTH,g=e.CELL_HEIGHT,M=e.GRID_WIDTH,I=e.GRID_HEIGHT},function(e){V=e.Utils}],execute:function(){var E,P,b,S,_,H,L;l._RF.push({},"12ffeb4IpNB1pYzsdb4oHUu","GridView",void 0);var x=s.ccclass,D=s.property;e("GridView",(E=x("GridView"),P=D({type:[r],tooltip:"预制体集合"}),b=D({type:c}),E((H=t((_=function(e){function t(){for(var t,i=arguments.length,l=new Array(i),s=0;s<i;s++)l[s]=arguments[s];return t=e.call.apply(e,[this].concat(l))||this,n(t,"cellItemPrefabs",H,o(t)),n(t,"effectLayer",L,o(t)),t.cellViews=[],t.controller=null,t.isInPlayAnim=!1,t.isCanMove=!1,t}i(t,e);var l=t.prototype;return l.onLoad=function(){this.node.on(a.TOUCH_START,this.onTouchStart,this),this.node.on(a.TOUCH_MOVE,this.onTouchMove,this),this.isCanMove=!0},l.onDestroy=function(){this.node.off(a.TOUCH_START,this.onTouchStart,this),this.node.off(a.TOUCH_MOVE,this.onTouchMove,this)},l.onTouchStart=function(e){if(console.log("onTouchStart"),!this.isInPlayAnim){var t=e.getUILocation(),i=this.convertTouchPosToCell(t);if(console.log("点击的：",t,i),i){var n=this.selectCell(i);this.isCanMove=n.length<3}else this.isCanMove=!1}},l.onTouchMove=function(e){if(console.log("onTouchMove"),this.isCanMove){var t=e.getUIStartLocation(),i=this.convertTouchPosToCell(t),n=e.getUILocation(),o=this.convertTouchPosToCell(n);i&&o&&(i.x!=o.x||i.y!=o.y)&&(this.isCanMove=!1,this.selectCell(o))}},l.setController=function(e){this.controller=e},l.selectCell=function(e){var t=this.controller.selectCell(e),i=t.changeModels,n=t.effectsQueue;return this.playEffects(n),this.disableTouch(this.getPlayAniTime(i),this.getStep(n)),this.updateView(i),this.controller.cleanCmd(),i.length>=2?this.updateSelect(h(-1,-1)):this.updateSelect(e),i},l.updateSelect=function(e){for(var t=1;t<=9;t++)for(var i=1;i<=9;i++)if(this.cellViews[t][i]){var n=this.cellViews[t][i].getComponent(y);e.x==i&&e.y==t?n.setSelect(!0):n.setSelect(!1)}},l.updateView=function(e){var t=[];for(var i in e){var n=e[i],o=this.findViewByModel(n),l=null;if(o)l=o.view,this.cellViews[o.y][o.x]=null;else{var s=n.type,r=T.instantiate(this.cellItemPrefabs[s]);r.parent=this.node,r.getComponent(y).initWithModel(n),l=r}l.getComponent(y).updateView(),n.isDie||t.push({cellModel:n,view:l})}t.forEach((function(e){var t=e.cellModel;this.cellViews[t.y][t.x]=e.view}),this)},l.findViewByModel=function(e){for(var t=1;t<=9;t++)for(var i=1;i<=9;i++)if(this.cellViews[t][i]&&this.cellViews[t][i].getComponent(y).model==e)return{view:this.cellViews[t][i],x:i,y:t};return null},l.getPlayAniTime=function(e){if(void 0===e&&(e=[]),e.length<=0)return 0;var t=0;return e.forEach((function(e){e.cmd.forEach((function(e){t<e.playTime+e.keepTime&&(t=e.playTime+e.keepTime)}),this)}),this),t},l.getStep=function(e){return e.length<=0?0:e.reduce((function(e,t){return Math.max(e,t.step||0)}),0)},l.disableTouch=function(e,t){if(!(e<=0)){var i=1e3*e;this.isInPlayAnim=!0,V.instance.sleep(i).then(function(){this.isInPlayAnim=!1}.bind(this))}},l.playEffects=function(e){this.effectLayer.getComponent(v).playEffects(e)},l.convertTouchPosToCell=function(e){var t=this.node.getComponent(f).convertToNodeSpaceAR(new u(e.x,e.y));if(t.x<0||t.x>=C||t.y<0||t.y>=m)return null;var i=Math.floor(t.x/w)+1,n=Math.floor(t.y/g)+1;return h(i,n)},l.initWithCellModels=function(e){this.cellViews=[];for(var t=1;t<=M;t++){this.cellViews[t]=[];for(var i=1;i<=I;i++){var n=e[t][i],o=n.type,l=T.instantiate(this.cellItemPrefabs[o]);l.parent=this.node;var s=d.addComp(l,y);s.initWithModel(n),this.cellViews[t][i]=s}}},t}(p)).prototype,"cellItemPrefabs",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=t(_.prototype,"effectLayer",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=_))||S));l._RF.pop()}}}));

System.register("chunks:///_virtual/GuideLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BasePopUp.ts"],(function(e){"use strict";var t,o,r,n;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy,r=e._decorator},function(e){n=e.BasePopUp}],execute:function(){var i;o._RF.push({},"a8f71lOHW5F6oVho9ESLi3G","GuideLayer",void 0);var u=r.ccclass;e("GuideLayer",u("GuideLayer")(i=function(e){function o(){return e.apply(this,arguments)||this}return t(o,e),o.prototype.open=function(){},o}(n))||i);o._RF.pop()}}}));

System.register("chunks:///_virtual/I18n.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utils.ts","./EventManager.ts","./En.ts","./Zh.ts","./Enums.ts"],(function(n){"use strict";var t,e,a,s,r,i,u,c,o;return{setters:[function(n){t=n.createClass},function(n){e=n.cclegacy,a=n.sys,s=n.error},function(n){r=n.Utils},function(n){i=n.EventManager},function(n){u=n.default},function(n){c=n.default},function(n){o=n.EventName}],execute:function(){var f;n("LangType",void 0),e._RF.push({},"65854fXP21C/p4sHUmCW4xy","I18n",void 0),function(n){n.NONE="",n.ZH="zh",n.EN="en"}(f||(f=n("LangType",{})));var p=n("default",function(){function n(){}var e=n.prototype;return e.init=function(){var n=a.language;this.switchLanguage(n)},e.switchLanguage=function(t){if(n.curLangType!==t){switch(n.curLangType=t,t){case f.ZH:n.phrases=c;break;case f.EN:n.phrases=u}n.updateLocalizedCmpt()}},n.updateLocalizedCmpt=function(){i.instance.dispatchEvent(new Event(o.UPDATE_LOCALIZED_CMPT))},e.getText=function(t){var e;if(!n.phrases)return s("[I18n.getText] 未正确初始化"),"";if(!t)return"";for(var a=n.phrases.hasOwnProperty(t)?n.phrases[t]:t,i=arguments.length,u=new Array(i>1?i-1:0),c=1;c<i;c++)u[c-1]=arguments[c];return a=(e=r.instance).formatString.apply(e,[a].concat(u))},e.getKeyByValue=function(t){if(!n.phrases)return s("[I18n.getKeyByValue] 未正确初始化"),"";for(var e in n.phrases)if(n.phrases[e]===t)return e;return""},t(n,null,[{key:"instance",get:function(){return this._instance||(this._instance=new n,this._instance.init()),this._instance}}]),n}());p._instance=null,p.curLangType=f.NONE,p.phrases=null,e._RF.pop()}}}));

System.register("chunks:///_virtual/I18nLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./I18n.ts","./LocalizedLabel.ts","./BasePopUp.ts"],(function(t){"use strict";var e,n,i,r,a,o,c,u,s,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){a=t.cclegacy,o=t._decorator},function(t){c=t.default,u=t.LangType},function(t){s=t.LocalizedLabel},function(t){l=t.BasePopUp}],execute:function(){var p,f,y,L,h,g,b;a._RF.push({},"16a45CtW0NN5JBVzQ6/8IOY","I18nLayer",void 0);var d=o.ccclass,v=o.property;t("I18nLayer",(p=d("I18nLayer"),f=v(s),y=v(s),p((g=e((h=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,i(e,"text1",g,r(e)),i(e,"text2",b,r(e)),e}n(e,t);var a=e.prototype;return a.open=function(){this.text1.setOption(10),this.text2.setOption(10,"---")},a.start=function(){},a.update=function(t){},a.onClickZh=function(){c.instance.switchLanguage(u.ZH)},a.onClickEn=function(){c.instance.switchLanguage(u.EN)},e}(l)).prototype,"text1",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=e(h.prototype,"text2",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=h))||L));a._RF.pop()}}}));

System.register("chunks:///_virtual/LevelDataManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,s;return{setters:[function(t){e=t.createForOfIteratorHelperLoose},function(t){i=t.cclegacy,s=t._decorator}],execute:function(){i._RF.push({},"26411/5nLFPm6lnsDgC/23E","LevelDataManager",void 0);s.ccclass,s.property;t("default",function(){function t(){}return t.init=function(t){for(var i,s,n=e(t);!(s=n()).done;){i=s.value;var r=this.initLevel(i);this.levelDatas.push(r)}console.log("关卡信息:",this.levelDatas)},t.initLevel=function(t){return new n(t.typeMaxNum,t.posArr)},t.getLevelData=function(t){return this.levelDatas[t]},t}()).levelDatas=[];t("pos",(function(t,e,i){this.x=void 0,this.y=void 0,this.z=void 0,this.x=t,this.y=e,this.z=i}));var n=t("LevelData",(function(t,e){this.typeMaxNum=void 0,this.posArr=[],this.typeMaxNum=t,this.posArr=e}));i._RF.pop()}}}));

System.register("chunks:///_virtual/ListItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./VirtualItem.ts"],(function(t){"use strict";var e,n,r,i,o,a,s,c,l,u,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,s=t.Label,c=t.director,l=t.Canvas,u=t.log},function(t){f=t.default}],execute:function(){var p,h,d,v;o._RF.push({},"726b2TVLo1GvqIlvHRA8hT2","ListItem",void 0);var g=a.ccclass,y=a.property;t("default",(p=y({type:s,tooltip:""}),g((v=e((d=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,r(e,"lab",v,i(e)),e._canvas=null,e}n(e,t);var o=e.prototype;return o.start=function(){var t=c.getScene();this._canvas=t.getComponentInChildren(l).node},o.onRefresh=function(t){this.lab.string="idx: "+this.dataIdx,u("[ListItem.onRefresh] idx: "+this.dataIdx+", args.num: "+t.num)},o.onRefreshOthers=function(t){},o.onClick=function(){},e}(f)).prototype,"lab",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=d))||h));o._RF.pop()}}}));

System.register("chunks:///_virtual/LocalizedLabel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Enums.ts","./I18n.ts"],(function(t){"use strict";var e,n,i,o,a,r,l,s,c,p,u,h,y,b,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.createClass},function(t){r=t.cclegacy,l=t._decorator,s=t.CCString,c=t.Label,p=t.RichText,u=t.error,h=t.Component},function(t){y=t.EventManager},function(t){b=t.EventName},function(t){d=t.default}],execute:function(){var f,_,L,g,v,x;r._RF.push({},"ba3c7CDuS1NIJUmCNfTg4ZN","LocalizedLabel",void 0);var K=l.ccclass,C=l.property;t("LocalizedLabel",(f=K("LocalizedLabel"),_=C(s),L=C({type:s,tooltip:"i18n-key"}),f((x=e((v=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,i(e,"_textKey",x,o(e)),e._label=null,e._option=[],e}n(e,t);var r=e.prototype;return r.onLoad=function(){y.instance.addEventListener(b.UPDATE_LOCALIZED_CMPT,this.updateLabel.bind(this)),this.updateLabel()},r.onDestroy=function(){y.instance.removeEventListener(b.UPDATE_LOCALIZED_CMPT,this.updateLabel.bind(this))},r.setTextKeyAndOption=function(t){this._textKey=t;for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];this.setOption.apply(this,n)},r.setOption=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];1===e.length&&"[object Object]"===Object.prototype.toString.call(e[0])?this._option=e[0]:this._option=e,this.updateLabel()},r.updateLabel=function(){var t,e=this._option instanceof Array?(t=d.instance).getText.apply(t,[this._textKey].concat(this._option)):d.instance.getText(this._textKey,this._option);e&&(this.label.string=e)},r.clear=function(){this.label.string="",this.textKey=""},a(e,[{key:"textKey",get:function(){return this._textKey},set:function(t){this._textKey!==t&&(this._textKey=t,console.log("修改值"),this.updateLabel())}},{key:"label",get:function(){return this._label||(this._label=this.node.getComponent(c)||this.node.getComponent(p),this._label)?this._label:(u("Failed to update localized label, label component is invalid!"),null)}}]),e}(h)).prototype,"_textKey",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),e(v.prototype,"textKey",[L],Object.getOwnPropertyDescriptor(v.prototype,"textKey"),v.prototype),g=v))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/LocalizedSprite.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResSprite.ts","./EventManager.ts","./Enums.ts","./I18n.ts"],(function(e){"use strict";var t,i,n,r,s,a,c,o,p,u;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass},function(e){n=e.cclegacy,r=e._decorator,s=e.Component},function(e){a=e.ResSprite},function(e){c=e.EventManager},function(e){o=e.EventName},function(e){p=e.default,u=e.LangType}],execute:function(){var l;n._RF.push({},"b6e58Pm8DFOLILMgMDyXg1K","LocalizedSprite",void 0);var h=r.ccclass;r.property,e("LocalizedSprite",h("LocalizedSprite")(l=function(e){function n(){for(var t,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this)._sprite=null,t._imageKey="",t}t(n,e);var r=n.prototype;return r.onLoad=function(){c.instance.addEventListener(o.UPDATE_LOCALIZED_CMPT,this.updateSprite.bind(this)),this._sprite=this.getComponent(a),this._sprite.spriteFrame&&(this.imageKey=this._sprite.spriteFrame.name+"/spriteFrame")},r.onDisable=function(){c.instance.removeEventListener(o.UPDATE_LOCALIZED_CMPT,this.updateSprite.bind(this))},r.updateSprite=function(){if(this.imageKey){var e="";switch(p.curLangType){case u.ZH:e="textures/localizedImage/zh/";break;case u.EN:e="textures/localizedImage/en/";break;default:return}e+=this.imageKey,this._sprite.setSpriteFrame(e)}},i(n,[{key:"imageKey",get:function(){return this._imageKey},set:function(e){this._imageKey!==e&&(this._imageKey=e,this.updateSprite())}}]),n}(s))||l);n._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./BirdCellView.ts","./CellView.ts","./EffectContent.ts","./GameLayer.ts","./GridView.ts","./Main.ts","./NormalCellView.ts","./BgCtr.ts","./DelayCall.ts","./EditorTool.ts","./FrameAnimation.ts","./MainTools.ts","./ScoreView.ts","./ScriptClosePopUp.ts","./ShakeNode.ts","./TimerView.ts","./TipItem.ts","./TipLayer.ts","./TopView.ts","./Typewriter.ts","./Test.ts","./dollar.ts","./dollarQ.ts","./Url.ts","./Utils.ts","./AnimValue.ts","./AnimValueLabel.ts","./AnimValueProgress.ts","./AnimValueProgressHP.ts","./ResSprite.ts","./CircleList.ts","./VirtualItem.ts","./VirtualLayout.ts","./VirtualList.ts","./I18n.ts","./LocalizedLabel.ts","./LocalizedSprite.ts","./En.ts","./Zh.ts","./AudioManager.ts","./EventManager.ts","./GestureManager.ts","./LevelDataManager.ts","./PopUpManage.ts","./ResManager.ts","./Canvas2Image.ts","./CellModel.ts","./EffectModel.ts","./Enums.ts","./GameModel.ts","./Global.ts","./AnimalProgressLayer.ts","./BasePopUp.ts","./GestureLayer.ts","./GuideLayer.ts","./I18nLayer.ts","./ScreenshotLayer.ts","./VirtualListLayer.ts","./ListItem.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/Main.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utils.ts","./ResManager.ts","./Url.ts","./PopUpManage.ts","./GestureManager.ts"],(function(e){"use strict";var t,n,o,i,r,a,s,p,u,c,l,h,g,d,f,y,m,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,s=e.Camera,p=e.JsonAsset,u=e.Vec3,c=e.RenderTexture,l=e.view,h=e.UITransform,g=e.Component},function(e){d=e.Utils},function(e){f=e.ResManager},function(e){y=e.PopLayerUrl},function(e){m=e.PopUpManage},function(e){C=e.default}],execute:function(){var b,P,M,U,w,L,k;r._RF.push({},"9f7dc6QC7NHdbTsZ4a4MXNO","Main",void 0);var v=a.ccclass,x=a.property;e("Main",(b=v("Main"),P=x({type:s,tooltip:"截屏专用摄像机"}),M=x({type:p,displayName:"手势识别点阵配置"}),b((L=t((w=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,o(t,"copyCamera",L,i(t)),o(t,"gesturePointsConfig",k,i(t)),t.rt=null,t}n(t,e);var r=t.prototype;return r.start=function(){this.schedule((function(){f.releaseAll()}),60),this.initCopyModel()},r.onLoad=function(){C.init(this.gesturePointsConfig.json)},r.onClickUiBtn=function(e,t){switch(Number(t)){case 0:this.node.getComponent(m).showTip({text:"游戏暂停...",unique:!0,end:new u(0,100,0),duration:.5});break;case 1:this.node.getComponent(m).openPopUp(y.GuideLayer);break;case 2:this.node.getComponent(m).openPopUp(y.VirtualList);break;case 3:this.node.getComponent(m).openPopUp(y.ScreenshotLayer);break;case 4:this.node.getComponent(m).openPopUp(y.I18nLayer);break;case 5:this.node.getComponent(m).openPopUp(y.AnimalProgressLayer);break;case 6:this.node.getComponent(m).openPopUp(y.GestureLayer);break;default:d.instance.showLog("未知的点击参数")}},r.initCopyModel=function(){this.rt=new c,this.rt.reset({width:l.getVisibleSize().width,height:l.getVisibleSize().height}),this.copyCamera.targetTexture=this.rt},r.capturePic=function(e){var t=e.getComponent(h).width,n=e.getComponent(h).height,o=e.getWorldPosition();return{buffer:this.rt.readPixels(Math.round(o.x),Math.round(o.y),t,n),width:t,height:n}},t}(g)).prototype,"copyCamera",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(w.prototype,"gesturePointsConfig",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=w))||U));r._RF.pop()}}}));

System.register("chunks:///_virtual/MainTools.ts",["cc"],(function(n){"use strict";var r,t;return{setters:[function(n){r=n.cclegacy,t=n.isValid}],execute:function(){r._RF.push({},"a12baBmq3hHJom4dMvklQQ4","MainTools",void 0);n("MainTools",function(){function n(){}return n.addComp=function(n,r){if(n){var t=n.getComponent(r);return t||(t=n.addComponent(r)),t}return null},n.find=function(r,e){if(t(e)){if(e.name==r)return e;for(var i=0;i<e.children.length;i++){var o=e.children[i];if(o.name==r)return o;var u=n.find(r,o);if(u)return u}}},n}());r._RF.pop()}}}));

System.register("chunks:///_virtual/NormalCellView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FrameAnimation.ts","./Enums.ts","./CellView.ts"],(function(r){"use strict";var e,t,i,a,n,o,s,l,c,p,u,m,A,f,h,F,b;return{setters:[function(r){e=r.applyDecoratedDescriptor,t=r.inheritsLoose,i=r.initializerDefineProperty,a=r.assertThisInitialized,n=r.createForOfIteratorHelperLoose,o=r.asyncToGenerator,s=r.regeneratorRuntime},function(r){l=r.cclegacy,c=r._decorator,p=r.SpriteFrame,u=r.Vec3},function(r){m=r.FrameAnimation},function(r){A=r.CELL_TYPE,f=r.CELL_STATUS,h=r.CELL_WIDTH,F=r.CELL_HEIGHT},function(r){b=r.CellView}],execute:function(){var y,S,w,k,v,C,g,L,d,E,N,R,T,_,z;l._RF.push({},"7a8e5vnjGNGlIojtFUppxVX","NormalCellView",void 0);var I=c.ccclass,O=c.property;r("NormalCellView",(y=I("NormalCellView"),S=O({type:[p],tooltip:"点击的帧动画图片"}),w=O({type:[p],tooltip:"纵向清理帧动画图片"}),k=O({type:[p],tooltip:"横向清理帧动画图片"}),v=O({type:[p],tooltip:"四周清理帧动画图片"}),C=O({type:[p],tooltip:"同类型清理帧动画图片"}),g=O({type:m,tooltip:"帧动画播放组件"}),y((E=e((d=function(r){function e(){for(var e,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=r.call.apply(r,[this].concat(n))||this,i(e,"clickSFArr",E,a(e)),i(e,"colSFArr",N,a(e)),i(e,"rowSFArr",R,a(e)),i(e,"wrapSFArr",T,a(e)),i(e,"sameSFArr",_,a(e)),i(e,"frameAnim",z,a(e)),e.spriteAtlas=null,e}t(e,r);var l=e.prototype;return l.initWithModel=function(){var r=o(s().mark((function r(e){var t,i,a,n;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:this.model=e,t=e.startX,i=e.startY,a=h*(t-.5),n=F*(i-.5),this.node.setPosition(new u(a,n)),this.playAnimByStatus(e.status);case 7:case"end":return r.stop()}}),r,this)})));return function(e){return r.apply(this,arguments)}}(),l.fliterAtlas=function(r,e){for(var t,i=n(r);!(t=i()).done;){var a=t.value;if(a.name===e){this.spriteAtlas=a;for(var o=this.spriteAtlas.getSpriteFrames(),s=0;s<o.length;s++){var l=o[s],c=l.name.split("_");"click"===c[1]?this.clickSFArr.push(l):"column"===c[1]?this.colSFArr.push(l):"line"===c[1]?this.rowSFArr.push(l):"wrap"===c[1]&&this.wrapSFArr.push(l)}}}},l.getAtlasNameByCellType=function(r){var e="";switch(r){case A.BEAR:e="bear";break;case A.BIRD:e="bird";break;case A.CAT:e="cat";break;case A.CHICKEN:e="chicken";break;case A.FOX:e="fox";break;case A.FROG:e="frog";break;case A.HORSE:e="horse"}return e},l.playAnimByStatus=function(r){var e=!1;switch(r){case f.COMMON:case f.CLICK:this.frameAnim.spriteFrameArr=this.clickSFArr;break;case f.ROW:this.frameAnim.spriteFrameArr=this.rowSFArr,e=!0;break;case f.COLUMN:this.frameAnim.spriteFrameArr=this.colSFArr,e=!0;break;case f.WRAP:this.frameAnim.spriteFrameArr=this.wrapSFArr,e=!0;break;case f.SAME:this.frameAnim.spriteFrameArr=this.sameSFArr,e=!0}this.frameAnim.play(e)},e}(b)).prototype,"clickSFArr",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=e(d.prototype,"colSFArr",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=e(d.prototype,"rowSFArr",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=e(d.prototype,"wrapSFArr",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=e(d.prototype,"sameSFArr",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=e(d.prototype,"frameAnim",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=d))||L));l._RF.pop()}}}));

System.register("chunks:///_virtual/PopUpManage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DelayCall.ts","./MainTools.ts","./Url.ts","./Utils.ts","./ResManager.ts","./ScriptClosePopUp.ts","./BasePopUp.ts","./TipItem.ts"],(function(t){"use strict";var e,n,i,o,a,r,s,l,p,u,c,h,d,f,g,y,U,C,m,v,b,w,P,x,I,L,k,B,M,T,_,O;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){s=t.cclegacy,l=t._decorator,p=t.Node,u=t.NodePool,c=t.warn,h=t.Component,d=t.view,f=t.Layers,g=t.UITransform,y=t.Graphics,U=t.Color,C=t.BlockInputEvents,m=t.log,v=t.Prefab,b=t.tween,w=t.UIOpacity,P=t.error,x=t.Vec3},function(t){I=t.DelayCall},function(t){L=t.MainTools},function(t){k=t.ResUrl},function(t){B=t.Utils},function(t){M=t.ResManager},function(t){T=t.default},function(t){_=t.BasePopUp},function(t){O=t.TipItem}],execute:function(){var D,N,R,z,A,E,S,F,q,V;s._RF.push({},"1f878rV7fZPlY4wIDKw8XAY","PopUpManage",void 0);var G=l.ccclass,H=l.property;t("PopUpManage",(D=G("PopUpManage"),N=H({type:p,tooltip:"弹窗公共父节点"}),R=H({type:p,tooltip:"加载界面"}),z=H({type:p,tooltip:"提示窗"}),D(((V=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,i(e,"popUpContentLayer",S,o(e)),i(e,"loadingLayer",F,o(e)),i(e,"tipLayer",q,o(e)),e.openUI=[],e.loadUI=[],e.loadingCount=0,e.tipPool=null,e.tipTexts=[],e}n(e,t);var s=e.prototype;return s.onLoad=function(){this.addMaskBg(),this.hideLoading(),this.tipPool=new u},s.onDestory=function(){this.hideMaskBg()},s.openPopUp=function(){var t=a(r().mark((function t(e,n,i,o){var a,s,l,p,u,h;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===n&&(n=null),void 0===i&&(i=!1),void 0===o&&(o=!0),a=e.replace(/\//g,"_"),this.popUpContentLayer){t.next=7;break}return c("没有发现Canvas，无法打开弹出窗口"+e),t.abrupt("return");case 7:if(!(s=this.popUpContentLayer.getChildByName(a))){t.next=16;break}if(0!=i){t.next=14;break}return c(e+"窗口已打开，不需要重复打开！"),t.abrupt("return");case 14:B.instance.safeDestoryNode(s),B.instance.removeElement(this.openUI,a);case 16:return-1==this.loadUI.indexOf(a)&&this.loadUI.push(a),this.showLoading(),t.next=20,M.load(e,v);case 20:if(l=t.sent,this.hideLoading(),!(this.openUI.indexOf(a)>=0)){t.next=25;break}return m("已经添加过该窗口",a),t.abrupt("return");case 25:if(-1!=this.loadUI.indexOf(a)){t.next=28;break}return m("窗口已经被关闭",a),t.abrupt("return");case 28:for((p=M.instantiate(l)).name=a,this.popUpContentLayer.addChild(p),this.openUI.indexOf(a)&&this.openUI.push(a),p.setPosition(0,0),u=p.getComponents(_),h=0;h<u.length;h++)u[h].open(n),u[h].playOpen(),u[h].addResolve(function(){this.openUI=B.instance.removeElement(this.openUI,a),this.loadUI=B.instance.removeElement(this.loadUI,a),this.showMaskBg()}.bind(this));L.addComp(p,T).init(this),p.getComponent(C)||p.addComponent(C),o&&this.showMaskBg();case 38:case"end":return t.stop()}}),t,this)})));return function(e,n,i,o){return t.apply(this,arguments)}}(),s.closePopUp=function(t){if(this.popUpContentLayer){if(null==t||""==t){for(var e=0;e<this.openUI.length;e++){var n=this.openUI[e],i=this.popUpContentLayer.getChildByName(n);i&&(B.instance.safeDestoryNode(i),this.openUI.splice(e,1))}return this.loadUI=[],void B.instance.showLog("清除了所有的弹窗",this.openUI.length)}var o=(t instanceof h?t.node.name:t instanceof p?t.name:t).replace(/\//g,"_"),a=this.popUpContentLayer.getChildByName(o);if(a)for(var r=a.getComponents(_),s=0;s<r.length;s++)r[s].onClickClose();else this.showMaskBg()}else c("没有发现Canvans无法关闭弹窗")},s.showLoading=function(){if(this.loadingCount++,!this.loadingLayer.active){this.loadingLayer.active=!0;var t=this.loadingLayer.getChildByName("content");t&&(t.active=!1,this.unscheduleAllCallbacks(),I.instance.on(this,(function(){t.active=!0}),1))}},s.hideLoading=function(){this.loadingCount--,this.loadingCount<=0&&(this.loadingCount=0,this.loadingLayer.active=!1,this.unscheduleAllCallbacks())},s.addMaskBg=function(){if(!e._bg){var t=d.getVisibleSize();e._bg=new p,e._bg.layer=f.Enum.UI_2D,L.addComp(e._bg,g).setContentSize(t);var n=L.addComp(e._bg,y);n.fillColor=new U(0,0,0,155),n.rect(-t.width/2,-t.height/2,t.width,t.height),n.fill()}},s.hideMaskBg=function(){e._bg.parent=null},s.showMaskBg=function(){for(var t=this.openUI.length-1;t>=0;t--){var n=this.openUI[t];if(this.popUpContentLayer.getChildByName(n))return e._bg.parent=this.popUpContentLayer,void e._bg.setSiblingIndex(this.openUI.length-1)}this.hideMaskBg()},s.showTip=function(){var t=a(r().mark((function t(e){var n,i,o,a,s,l,p,u=this;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=null,(n="string"==typeof e?{text:e}:e).hasOwnProperty("unique")||(n.unique=!1),n.hasOwnProperty("duration")||(n.duration=1),n.hasOwnProperty("fade")||(n.fade=.5),n.hasOwnProperty("start")||(n.start=new x(0,0,0)),n.hasOwnProperty("end")||(n.end=new x(0,0,0)),!n.unique||!B.instance.arrayHas(this.tipTexts,n.text)){t.next=9;break}return t.abrupt("return");case 9:if(this.tipTexts.push(n.text),i=null,!(this.tipPool.size()>0)){t.next=15;break}i=this.tipPool.get(),t.next=22;break;case 15:return t.next=17,M.load(k.PREFAB.TipItem,v);case 17:if(o=t.sent){t.next=21;break}return P("[Layer.showTip] can not load prefab: "+k.PREFAB.TipItem),t.abrupt("return");case 21:i=M.instantiate(o);case 22:return i.getComponent(O).init(n.text),this.tipLayer.addChild(i),a=function(){return new Promise((function(t,e){b(i).delay(n.duration).call((function(){t(null)})).start()}))},s=function(){return new Promise((function(t,e){b(i.getComponent(w)).to(n.fade,{opacity:0}).call((function(){t(null)})).start()}))},l=function(){return new Promise((function(t,e){b(i).to(n.fade,{position:n.end}).call((function(){t(null)})).start()}))},p=function(){return new Promise((function(t,e){b(i).call((function(){i.active=!1,u.tipPool.put(i),B.instance.removeArrayElement(u.tipTexts,n.text)})).call((function(){t(null)})).start()}))},t.next=30,a();case 30:return t.next=32,Promise.all([s(),l()]);case 32:return t.next=34,p();case 34:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),s.clearTips=function(){this.tipPool.clear(),this.tipTexts.length=0,this.tipLayer.destroyAllChildren()},e}(h))._bg=null,S=e((E=V).prototype,"popUpContentLayer",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(E.prototype,"loadingLayer",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=e(E.prototype,"tipLayer",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=E))||A));s._RF.pop()}}}));

System.register("chunks:///_virtual/ResManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,a,r,n,s,i,o,l,c,u,h,f,d,p;return{setters:[function(e){t=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){r=e.cclegacy,n=e._decorator,s=e.error,i=e.instantiate,o=e.Node,l=e.Prefab,c=e.assetManager,u=e.SpriteFrame,h=e.SpriteAtlas,f=e.sp,d=e.warn,p=e.resources}],execute:function(){var b,_;r._RF.push({},"7424d6ZxNBOj4roZkaFhR4l","ResManager",void 0);var v=n.ccclass;n.property,e("ResManager",v("ResManager")(((_=function(){function e(){}return e.load=function(){var e=t(a().mark((function e(t,r,n){var i,o,l=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n&&(n=!0),!(i=this.getAsset(t,r))){e.next=4;break}return e.abrupt("return",i);case 4:if(!(o=this.parseUrl(t)).bundle||c.getBundle(o.bundle)){e.next=8;break}return e.next=8,this.loadBundle(o.bundle);case 8:return e.next=10,new Promise((function(e,a){var i=o.bundle?c.getBundle(o.bundle):p;if(!i)return s("[Res.load] cant find bundle: "+t),void e(null);i.load(o.loadUrl,r,(function(a,r){a?(s("[Res.load] load error: "+a),e(null)):(l.cacheAsset(t,r,n),e(r))}))}));case 10:return i=e.sent,e.abrupt("return",i);case 12:case"end":return e.stop()}}),e,this)})));return function(t,a,r){return e.apply(this,arguments)}}(),e.loadDir=function(){var e=t(a().mark((function e(t,r,n){var i,o=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n&&(n=!0),!(i=this.parseUrl(t)).bundle||c.getBundle(i.bundle)){e.next=5;break}return e.next=5,this.loadBundle(i.bundle);case 5:return e.abrupt("return",new Promise((function(e,a){var l=i.bundle?c.getBundle(i.bundle):p;if(!l)return s("[Res.loadDir] cant find bundle: "+t),void e(null);l.loadDir(i.loadUrl,r,(function(a,i){if(a)s("[Res.loadDir] load error: "+a),e([]);else{var c=l.getDirWithPath(t,r);i.forEach((function(e,t){o.cacheAsset(c[t].path,e,n)})),e(i)}}))})));case 6:case"end":return e.stop()}}),e,this)})));return function(t,a,r){return e.apply(this,arguments)}}(),e.instantiate=function(e,t){if(!e)return s("[Res.instantiate] original is null"),null;var a=i(e),r=this.getCachePrefabUrl(t)||this.getCachePrefabUrl(e);if(r){var n=this._prefabCache.get(r);n&&n.release&&(Array.isArray(n.nodes)||(n.nodes=[]),n.nodes.push(a),this._nodePath.set(a,r))}return a},e.getCachePrefabUrl=function(e){var t="";if(e instanceof o){var a=e;a._prefab&&a._prefab.root&&(t=this._nodePath.get(a._prefab.root)||"")}else e instanceof l&&(t=this._prefabPath.get(e)||"");return t},e.parseUrl=function(e){if(e.startsWith("ab:")){var t=e.substring("ab:".length),a=t.indexOf("/");return{bundle:t.substring(0,a),loadUrl:t=t.substring(a+1)}}return{loadUrl:e}},e.loadBundle=function(e){return new Promise((function(t,a){c.loadBundle(e,(function(e,a){e?(s("[Res.loadBundle] error: "+s),t(null)):t(a)}))}))},e.cacheAsset=function(e,t,a){var r=this;if(void 0===a&&(a=!0),t){var n=function(n){if(!n.has(e)){t.addRef(),t instanceof l&&r._prefabPath.set(t,e);var s={asset:t,release:a,lastLoadTime:Date.now()/1e3};n.set(e,s)}};if(t instanceof l)n(this._prefabCache);else if(t instanceof u)n(this._spriteFrameCache);else if(t instanceof h)n(this._spriteAtlasCache);else if(t instanceof f.SkeletonData)n(this._skeletonDataCache);else{if(this._otherCache.has(e))return;t.addRef(),this._otherCache.set(e,t)}}},e.getAsset=function(e,t){var a=null,r=function(t){var r=t.get(e);r&&(a=r.asset,r.lastLoadTime=Date.now()/1e3)};return t===l?r(this._prefabCache):t===u?r(this._spriteFrameCache):t===h?r(this._spriteAtlasCache):t===f.SkeletonData?r(this._skeletonDataCache):a=this._otherCache.get(e),a},e.releaseAll=function(){var e=this;d("自定义引用计数清理缓存"),d("---prefabCache---",this._prefabCache),d("---spriteFrameCache---",this._spriteFrameCache),d("---spriteAtlasCache---",this._spriteAtlasCache),d("---skeletonDataCache---",this._skeletonDataCache);var t=Date.now()/1e3;this._prefabCache.forEach((function(a,r){if(a.release&&!(t-a.lastLoadTime<e.releaseSec)){if(Array.isArray(a.nodes)){for(var n=a.nodes.length-1;n>=0;n--){var s=a.nodes[n];s.isValid||(e._nodePath.delete(s),a.nodes.splice(n,1))}0===a.nodes.length&&delete a.nodes}Array.isArray(a.nodes)||(a.asset.decRef(),e._prefabPath.delete(a.asset),e._prefabCache.delete(r))}})),[this._spriteFrameCache,this._spriteAtlasCache,this._skeletonDataCache].forEach((function(a){a.forEach((function(r,n){!r.release||t-r.lastLoadTime<e.releaseSec||(r.asset.decRef(),a.delete(n))}))}))},e}())._nodePath=new Map,_._prefabPath=new Map,_._prefabCache=new Map,_._spriteFrameCache=new Map,_._spriteAtlasCache=new Map,_._skeletonDataCache=new Map,_._otherCache=new Map,_.releaseSec=60,b=_))||b);r._RF.pop()}}}));

System.register("chunks:///_virtual/ResSprite.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResManager.ts"],(function(e){"use strict";var t,r,s,n,i,a,o,c,p,u,f;return{setters:[function(e){t=e.inheritsLoose,r=e.createClass,s=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){i=e.cclegacy,a=e._decorator,o=e.Sprite,c=e.Component,p=e.SpriteAtlas,u=e.SpriteFrame},function(e){f=e.ResManager}],execute:function(){var l;i._RF.push({},"f7302nYDctKTYZgh7eor6VN","ResSprite",void 0);var h=a.ccclass;a.property,e("ResSprite",h("ResSprite")(l=function(e){function i(){for(var t,r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))||this)._asset=null,t._sprite=null,t}t(i,e);var a=i.prototype;return a.onDestroy=function(){var e;null==(e=this._asset)||e.decRef()},a.setSpriteFrame=function(){var e=s(n().mark((function e(t,r){var s,i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===r&&(r=""),s=r?p:u,e.t0=f.getAsset(t,s),e.t0){e.next=7;break}return e.next=6,f.load(t,s);case 6:e.t0=e.sent;case 7:(i=e.t0)instanceof s&&(this.spriteFrame=i instanceof p?i.getSpriteFrame(r):i);case 9:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),r(i,[{key:"sprite",get:function(){return this._sprite||(this._sprite=this.getComponent(o)),this._sprite}},{key:"spriteFrame",get:function(){return this.sprite.spriteFrame},set:function(e){var t;this.sprite.spriteFrame!==e&&(e.addRef(),null==(t=this._asset)||t.decRef(),this._asset=e,this.sprite.spriteFrame=e)}}]),i}(c))||l);i._RF.pop()}}}));

System.register("chunks:///_virtual/ScoreView.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,r,i,o,c,n,s,a,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){c=t.cclegacy,n=t._decorator,s=t.Node,a=t.Label,u=t.Component}],execute:function(){var l,h,p,f,S;c._RF.push({},"36243Mlek5GV69ulyv7B+iC","ScoreView",void 0);var g=n.ccclass,y=n.property;t("scoreView",(l=g("scoreView"),h=y({type:s,tooltip:"文本内容"}),l((S=e((f=function(t){function e(){for(var e,r=arguments.length,c=new Array(r),n=0;n<r;n++)c[n]=arguments[n];return(e=t.call.apply(t,[this].concat(c))||this).curScore=0,e.targetScore=0,e.cT=0,e.interval=.01,i(e,"textContent",S,o(e)),e}r(e,t);var c=e.prototype;return c.refreshLabel=function(){this.curScore!=this.targetScore&&(this.curScore<this.targetScore?this.curScore++:this.curScore--,this.textContent.getComponent(a).string=""+this.curScore)},c.setTargetScore=function(t){this.targetScore=t},c.update=function(t){this.cT+=t,this.cT>this.interval&&(this.refreshLabel(),this.cT=0)},e}(u)).prototype,"textContent",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=f))||p));c._RF.pop()}}}));

System.register("chunks:///_virtual/ScreenshotLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Main.ts","./PopUpManage.ts","./Canvas2Image.ts","./BasePopUp.ts"],(function(e){"use strict";var t,n,a,i,s,o,r,h,c,u,p,l,v,g,f,d,w,m,C,b,S;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){s=e.cclegacy,o=e._decorator,r=e.Node,h=e.director,c=e.Canvas,u=e.Vec3,p=e.ImageAsset,l=e.Texture2D,v=e.SpriteFrame,g=e.Sprite,f=e.sys,d=e.UITransform,w=e.Size},function(e){m=e.Main},function(e){C=e.PopUpManage},function(e){b=e.Canvas2Image},function(e){S=e.BasePopUp}],execute:function(){var _,y,I,N,D,x,F;s._RF.push({},"d5e5aQGUbhFpqbIRseHxZnF","ScreenshotLayer",void 0);var P=o.ccclass,U=o.property;e("ScreenshotLayer",(_=P("ScreenshotLayer"),y=U({type:r,tooltip:"需要截屏的节点"}),I=U({type:r,tooltip:"展示截屏的节点"}),_((x=t((D=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return t=e.call.apply(e,[this].concat(s))||this,a(t,"targetNode",x,i(t)),a(t,"showScreenshotNode",F,i(t)),t.canvas2image=null,t._canvas=null,t._webCanvas=null,t.bufferData=null,t}n(t,e);var s=t.prototype;return s.open=function(){},s.start=function(){this.canvas2image=b.getInstance();var e=h.getScene();this._canvas=e.getComponentInChildren(c).node},s.onClickScreenshot=function(){var e=this._canvas.getComponent(m).capturePic(this.targetNode);this.bufferData=e,this.showCopyImg(e)},s.onClickSave=function(){if(this.bufferData){var e=this.saveAsBase64(50,50,this.bufferData);console.log(e),this._canvas.getComponent(C).showTip({text:"保存Base64成功，前往控制台查看输出",unique:!0,end:new u(0,100,0),duration:2})}else this._canvas.getComponent(C).showTip({text:"请先点击截图，再保存",unique:!0,end:new u(0,100,0),duration:.5})},s.showCopyImg=function(e){var t,n,a=new p;a.reset({_data:e.buffer,width:e.width,height:e.height,format:l.PixelFormat.RGBA8888,_compressed:!1});var i=new l;i.image=a;var s=new v;s.texture=i,s.packable=!1,this.showScreenshotNode.getComponent(g).spriteFrame=s,this.showScreenshotNode.getComponent(g).spriteFrame.flipUVY=!0,!f.isNative||f.os!==f.OS.IOS&&f.os!==f.OS.OSX||(this.showScreenshotNode.getComponent(g).spriteFrame.flipUVY=!1),null==(t=this.showScreenshotNode)||null==(n=t.getComponent(d))||n.setContentSize(new w(e.width,e.height))},s.saveAsBase64=function(e,t,n){this._webCanvas?this.clearCanvas():(this._webCanvas=document.createElement("canvas"),this._webCanvas.width=n.width,this._webCanvas.height=n.height);for(var a=this._webCanvas.getContext("2d"),i=4*n.width,s=0;s<n.height;s++){for(var o=n.height-1-s,r=a.createImageData(n.width,1),h=o*n.width*4,c=0;c<i;c++)r.data[c]=n.buffer[h+c];a.putImageData(r,0,s)}return this.canvas2image.convertToPNG(this._webCanvas,e,t)},s.clearCanvas=function(){this._webCanvas.getContext("2d").clearRect(0,0,this._webCanvas.width,this._webCanvas.height)},t}(S)).prototype,"targetNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(D.prototype,"showScreenshotNode",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=D))||N));s._RF.pop()}}}));

System.register("chunks:///_virtual/ScriptClosePopUp.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n,o,i,r,s,p,a;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,p=e.Node,a=e.Component}],execute:function(){var l,c,u,h,f,C;r._RF.push({},"1a4a71Ptj1D/JXzeqqPkzTB","ScriptClosePopUp",void 0);var d=s.ccclass,g=(s.executeInEditMode,s.menu),y=s.property;e("default",(l=d("ScriptClosePopUp"),c=g("添加关闭弹窗脚本"),u=y([p]),l(h=c((C=t((f=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,o(t,"btnCloses",C,i(t)),t._popUpManager=null,t}n(t,e);var r=t.prototype;return r.onEnable=function(){for(var e=0;e<this.btnCloses.length;e++)this.btnCloses[e].on(p.EventType.TOUCH_START,this.onClickClose,this)},r.init=function(e){this._popUpManager=e},r.onClickClose=function(){this._popUpManager&&this._popUpManager.closePopUp(this.node.name)},t}(a)).prototype,"btnCloses",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=f))||h)||h));r._RF.pop()}}}));

System.register("chunks:///_virtual/ShakeNode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./env"],(function(e){"use strict";var t,n,i,o,r,a,s,c,l,h,u,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,s=e.Vec2,c=e.Vec3,l=e.Tween,h=e.tween,u=e.Component},function(e){p=e.DEV}],execute:function(){var w,f,d,v,y;r._RF.push({},"a4915AKHF1AcrZOKBtjuKET","ShakeNode",void 0);var _=a.ccclass,k=a.property;e("default",(w=_("ShakeNode"),f=k({tooltip:p}),w((y=t((v=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,i(t,"shakePower",y,o(t)),t._tween=null,t}return n(t,e),t.prototype.shake=function(e,t,n){if(void 0===e&&(e=5),void 0===t&&(t=.01),void 0===n&&(n=null),!(this._tween||e<=0||this.shakePower<=0||t<=0)){var i=new s(0,this.shakePower);this.node.setPosition(new c(i.x,i.y,0));for(var o=[],r=1;r<=8;r++){var a=i.rotate(Math.PI/4*(3*r));o.push(new c(a.x,a.y,0))}this._tween=new l(this.node);for(var u=0;u<o.length;u++){var p=o[u];this._tween.then(h().to(t,{position:p}))}this._tween.clone(this.node).repeat(e).call(function(){n&&n(),this._tween=null}.bind(this)).start()}},t}(u)).prototype,"shakePower",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),d=v))||d));r._RF.pop()}}}));

System.register("chunks:///_virtual/Test.ts",["./rollupPluginModLoBabelHelpers.js","cc","./dollar.ts"],(function(t){"use strict";var e,n,s,o,i,r,u,h;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,s=t._decorator,o=t.Node,i=t.log,r=t.Component},function(t){u=t.DollarRecognizer,h=t.Point}],execute:function(){var c;n._RF.push({},"b6c8exx6pJPKrnazqiWHhbb","Test",void 0);var a=s.ccclass;s.property,t("Test",a("Test")(c=function(t){function n(){for(var e,n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))||this)._gesture=null,e._gesturePoints=[],e}e(n,t);var s=n.prototype;return s.start=function(){this.startListener()},s.destory=function(){this.endListener()},s.startListener=function(){this.node.on(o.EventType.TOUCH_START,this.touchStart,this),this.node.on(o.EventType.TOUCH_MOVE,this.touchMove,this),this.node.on(o.EventType.TOUCH_END,this.touchEnd,this)},s.endListener=function(){this.node.off(o.EventType.TOUCH_START,this.touchStart,this),this.node.off(o.EventType.TOUCH_MOVE,this.touchMove,this),this.node.off(o.EventType.TOUCH_END,this.touchEnd,this)},s.touchStart=function(t){this._gesture=new u,this._gesturePoints=[]},s.touchMove=function(t){var e=t.getUILocation();this._gesturePoints.push(new h(-e.x,e.y))},s.touchEnd=function(t){var e=this._gesture.Recognize(this._gesturePoints);this._gesture=null,this._gesturePoints=[],i(e.name,e.score,e.time)},n}(r))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/TimerView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utils.ts"],(function(t){"use strict";var e,i,r,n,s,h;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,r=t._decorator,n=t.Label,s=t.Component},function(t){h=t.Utils}],execute:function(){var l;i._RF.push({},"1c00a+Wl35Py6rl9E0q3tDo","TimerView",void 0);var o=r.ccclass;r.property,t("TimerView",o("TimerView")(l=function(t){function i(){for(var e,i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))||this).totalTime=10,e.currTime=0,e.timer=null,e.timeOutCallback=null,e}e(i,t);var r=i.prototype;return r.initTimer=function(t,e){this.timer&&this.unschedule(this.timer),this.totalTime=t,this.timeOutCallback=e,this.currTime=this.totalTime,this.refreshTimeLabel()},r.timerStart=function(){this.timer&&this.unschedule(this.timer),this.schedule(this.timer=function(){this.refreshTime()}.bind(this),.01)},r.refreshTime=function(){this.currTime-=.01,this.currTime<=0&&(this.currTime=0,this.unschedule(this.timer),this.timeOutCallback&&this.timeOutCallback()),this.refreshTimeLabel()},r.timerStop=function(){this.unschedule(this.timer)},r.timerPause=function(){this.unschedule(this.timer)},r.timerResume=function(){this.initTimer(this.currTime,this.timeOutCallback),this.timerStart()},r.refreshTimeLabel=function(){h.instance.prefixInteger(Math.floor(this.currTime/3600),2);var t=h.instance.prefixInteger(Math.floor(this.currTime/60),2),e=h.instance.prefixInteger(Math.floor(this.currTime%60),2),i=this.currTime.toFixed(2).split(".")[1];this.node.getChildByName("label_1").getComponent(n).string=t[0],this.node.getChildByName("label_2").getComponent(n).string=t[1],this.node.getChildByName("label_4").getComponent(n).string=e[0],this.node.getChildByName("label_5").getComponent(n).string=e[1],this.node.getChildByName("label_7").getComponent(n).string=i[0],this.node.getChildByName("label_8").getComponent(n).string=i[1]},i}(s))||l);i._RF.pop()}}}));

System.register("chunks:///_virtual/TipItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,n,r,o,a,c,l,u,p,s;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,c=t.Layout,l=t.Label,u=t.Vec3,p=t.UIOpacity,s=t.Component}],execute:function(){var y,f,b,h,d,m,g;o._RF.push({},"7f459vzwd5OKLF1KC63OTja","TipItem",void 0);var v=a.ccclass,L=a.property;t("TipItem",(y=v("TipItem"),f=L({type:c}),b=L({type:l}),y((m=e((d=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,n(e,"layout",m,r(e)),n(e,"textLab",g,r(e)),e}return i(e,t),e.prototype.init=function(t){this.node.active=!0,this.node.setPosition(new u(0,0,0)),this.textLab.string=t,this.node.getComponent(p).opacity=255},e}(s)).prototype,"layout",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=e(d.prototype,"textLab",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=d))||h));o._RF.pop()}}}));

System.register("chunks:///_virtual/TipLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,e,n,r,o,s,a,l,c,u,p;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,s=t._decorator,a=t.Node,l=t.Label,c=t.tween,u=t.UIOpacity,p=t.Component}],execute:function(){var h,g,d,f,y,T,m;o._RF.push({},"a5b5578Tt9AuqGF84Hwe/w3","TipLayer",void 0);var v=s.ccclass,b=s.property;t("TipLayer",(h=v("TipLayer"),g=b({type:a,tooltip:"文本内容"}),d=b({type:a,tooltip:"对话框背景图"}),h((T=i((y=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return i=t.call.apply(t,[this].concat(o))||this,n(i,"nodeText",T,r(i)),n(i,"dialogBG",m,r(i)),i.str="",i.strArr=[],i.interval=0,i.cT=0,i.isRuning=!1,i.runTime=0,i}e(i,t);var o=i.prototype;return o.start=function(){},o.setText=function(t,i){this.isRuning=!0,this.str=t,this.interval=i,this.strArr=t.split("")},o.init=function(t,i){void 0===i&&(i=.05),this.runTime=t.split("").length*i,this.nodeText.getComponent(l).string="";var e=c(this.dialogBG.getComponent(u)).to(.5,{opacity:155}),n=c(this.dialogBG.getComponent(u)).to(.5,{opacity:0});c(this.dialogBG.getComponent(u)).then(e).call(function(){this.setText(t,i)}.bind(this)).delay(this.runTime+2).then(n).call(function(){this.node.removeFromParent()}.bind(this)).start()},o.update=function(t){if(this.cT+=t,this.cT>this.interval&&this.isRuning){if(this.cT=0,!this.strArr.length)return void(this.isRuning=!1);this.nodeText.getComponent(l).string+=this.strArr.shift()}},i}(p)).prototype,"nodeText",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=i(y.prototype,"dialogBG",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=y))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/TopView.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,r,s,n,o,u,c,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){n=t.cclegacy,o=t._decorator,u=t.Label,c=t.ProgressBar,l=t.Component}],execute:function(){var a,h,m,p,b,f,T,g,y;n._RF.push({},"f3d98no1YRJqJO2OhsJ2xo6","TopView",void 0);var w=o.ccclass,d=o.property;t("TopView",(a=w("TopView"),h=d({type:u,tooltip:"倒计时文本"}),m=d({type:c,tooltip:"倒计时进度条"}),p=d({type:u,tooltip:"积分文本"}),a((T=e((f=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return e=t.call.apply(t,[this].concat(n))||this,r(e,"timeLabel",T,s(e)),r(e,"timeProgressBar",g,s(e)),r(e,"scoreLabel",y,s(e)),e.countDownTime=10,e.currTime=0,e.score=0,e.timer=null,e.timeOutCallback=null,e}i(e,t);var n=e.prototype;return n.initTimer=function(t,e){this.timer&&this.unschedule(this.timer),this.countDownTime=t,this.timeOutCallback=e,this.currTime=this.countDownTime,this.score=0,this.timeLabel.string=this.countDownTime+" s",this.scoreLabel.string=""+this.score,this.timeProgressBar.progress=1},n.timerStart=function(){this.timer&&this.unschedule(this.timer),this.schedule(this.timer=function(){this.refreshTime()}.bind(this),1)},n.timeStop=function(){this.unschedule(this.timer)},n.refreshTime=function(){this.currTime--,this.currTime<=0&&(this.unschedule(this.timer),this.timeOut()),this.timeLabel.string=this.currTime+" s",this.timeProgressBar.progress=this.currTime/this.countDownTime},n.timeOut=function(){this.timeOutCallback&&this.timeOutCallback()},n.setScoreLabel=function(t){t>1e3?this.score=1e3:t<0&&(this.score=0),this.score=t,this.scoreLabel.string=""+t},n.getCurTime=function(){return this.currTime},e}(l)).prototype,"timeLabel",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=e(f.prototype,"timeProgressBar",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=e(f.prototype,"scoreLabel",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=f))||b));n._RF.pop()}}}));

System.register("chunks:///_virtual/Typewriter.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,r,n,e,s;return{setters:[function(t){i=t.inheritsLoose},function(t){r=t.cclegacy,n=t._decorator,e=t.Label,s=t.Component}],execute:function(){var o;r._RF.push({},"7e797vpIDRF+pU85g6cDVW0","Typewriter",void 0);var c=n.ccclass;n.property,t("Typewriter",c("Typewriter")(o=function(t){function r(){for(var i,r=arguments.length,n=new Array(r),e=0;e<r;e++)n[e]=arguments[e];return(i=t.call.apply(t,[this].concat(n))||this).isRuning=!1,i.mainStr="",i.interval=.2,i.cT=0,i.strArr=[],i}i(r,t);var n=r.prototype;return n.setText=function(t){this.isRuning||(this.node.getComponent(e).string="",this.isRuning=!0,this.mainStr=t,this.strArr=this.mainStr.split(""))},n.update=function(t){if(this.cT+=t,this.cT>this.interval&&this.isRuning){if(this.cT=0,!this.strArr.length)return void(this.isRuning=!1);this.node.getComponent(e).string+=this.strArr.shift()}},r}(s))||o);r._RF.pop()}}}));

System.register("chunks:///_virtual/Url.ts",["cc"],(function(e){"use strict";var r;return{setters:[function(e){r=e.cclegacy}],execute:function(){r._RF.push({},"07f783dpDhEGoW0LJhFpBtx","Url",void 0);e("ResUrl",{PREFAB:{TipItem:"prefab/tip/TipItem"},AUDIO:{BGM:"audio/sound/Bgm"}}),e("DirUrl",{ATLAS:{CELL_ANIM:"textures/cellAnimAtlas"}}),e("PopLayerUrl",{VirtualList:"prefab/layer/VirtualListLayer",GuideLayer:"prefab/layer/GuideLayer",ScreenshotLayer:"prefab/layer/ScreenshotLayer",I18nLayer:"prefab/layer/I18nLayer",AnimalProgressLayer:"prefab/layer/AnimalProgressLayer",GestureLayer:"prefab/layer/GestureLayer"});r._RF.pop()}}}));

System.register("chunks:///_virtual/Utils.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Global.ts"],(function(n){"use strict";var t,e,r,o,a,i;return{setters:[function(n){t=n.createClass},function(n){e=n.cclegacy,r=n.isValid,o=n.error,a=n.Vec2},function(n){i=n.Global}],execute:function(){e._RF.push({},"95962i0LshNGLashkzBSGAX","Utils",void 0),n("Utils",function(){function n(){}var e=n.prototype;return e.showLog=function(){var n;i.Debug&&(n=console).log.apply(n,arguments)},e.shuffle=function(n,t){void 0===t&&(t=!1);var e=n;t||(e=n.concat());for(var r=e.length;r;){var o=Math.floor(Math.random()*r--),a=[e[r],e[o]];e[o]=a[0],e[r]=a[1]}return e},e.removeArrayElement=function(n,t){for(var e=0;e<n.length;e++)if(n[e]===t){n.splice(e,1);break}},e.removeElement=function(n,t){return n.filter((function(n){return n!==t}))},e.arrayAdd=function(n,t,e){return void 0===e&&(e=!1),!(!e&&this.arrayHas(n,t))&&(n.push(t),!0)},e.arrayHas=function(n,t){return n.findIndex((function(n){return n===t}))>=0},e.safeDestoryNode=function(n){r(n)?(r(n.parent)&&n.removeFromParent(),n.destroy()):o("node is invalid")},e.prefixInteger=function(n,t){return(Array(t).join("0")+n).slice(-t)},e.randInt=function(n,t){return void 0===t&&(t=void 0),null==t&&(t=n,n=0),n=Math.ceil(n),t=Math.floor(t),Math.floor(Math.random()*(t-n))+n},e.inRange=function(n,t,e,r){return void 0===r&&(r=!0),r?e>=n&&e<=t:e>n&&e<t},e.angle_to_radian=function(n){return Math.PI/180*n},e.radian_to_angle=function(n){return 180/Math.PI*n},e.angle_to_vector=function(t){var e=n.instance.angle_to_radian(t),r=Math.cos(e),o=Math.sin(e);return new a(r,o).normalize()},e.vector_to_angle=function(t){var e=t.normalize().signAngle(new a(1,0));return-n.instance.radian_to_angle(e)},e.formatString=function(n){for(var t=n,e=arguments.length,r=new Array(e>1?e-1:0),o=1;o<e;o++)r[o-1]=arguments[o];if(1===r.length&&"[object Object]"===Object.prototype.toString.call(r[0])){for(var a in r[0])if(r[0].hasOwnProperty(a)){var i=new RegExp("%{"+a+"}","g");t=t.replace(i,""+r[0][a])}}else r.forEach((function(n){t=t.replace(/%\{.*?\}/,""+n)}));return t},e.sleep=function(n){return new Promise((function(t){return setTimeout(t,n)}))},t(n,null,[{key:"instance",get:function(){return this._instance||(this._instance=new n),this._instance}}]),n}())._instance=null,e._RF.pop()}}}));

System.register("chunks:///_virtual/VirtualItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,n,o,r,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,r=t.UITransform,c=t.Component}],execute:function(){var i;n._RF.push({},"eee0215MBRCupc8aDiKMDo9","VirtualItem",void 0);var u=o.ccclass,s=o.disallowMultiple;t("default",u(i=s(i=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this).dataIdx=0,e.args=null,e.others=[],e}e(n,t);var o=n.prototype;return o.onRefresh=function(t){},o.onRefreshOthers=function(){},o.onReset=function(){},o.getRealSize=function(){return this.node.getComponent(r).contentSize},n}(c))||i)||i);n._RF.pop()}}}));

System.register("chunks:///_virtual/VirtualLayout.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResManager.ts","./env","./VirtualItem.ts","./VirtualList.ts","./Utils.ts"],(function(t){"use strict";var i,e,n,o,s,h,r,a,d,g,f,l,u,p,c,_,x,m,v,y,T,w,I;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){s=t.cclegacy,h=t._decorator,r=t.Enum,a=t.UITransform,d=t.Node,g=t.UIOpacity,f=t.error,l=t.Vec3,u=t.rect,p=t.TransformBit,c=t.v2,_=t.Component,x=t.v3},function(t){m=t.ResManager},function(t){v=t.DEV},function(t){y=t.default},function(t){T=t.MainTemplateType,w=t.OtherTemplateType},function(t){I=t.Utils}],execute:function(){var M,O,z,E,S,A,R,C,P,b,L,N,D,V,F,H,G,X,Y,B,Z,U;s._RF.push({},"4e388jzJiBJn7H614K4u/LR","VirtualLayout",void 0);var k,j,J,K,q=h.ccclass,Q=h.property,W=h.disallowMultiple;!function(t){t[t.HORIZONTAL=0]="HORIZONTAL",t[t.VERTICAL=1]="VERTICAL",t[t.GRID=2]="GRID"}(k||(k={})),function(t){t[t.HORIZONTAL=0]="HORIZONTAL",t[t.VERTICAL=1]="VERTICAL"}(j||(j={})),function(t){t[t.TOP_TO_BOTTOM=0]="TOP_TO_BOTTOM",t[t.BOTTOM_TO_TOP=1]="BOTTOM_TO_TOP"}(J||(J={})),function(t){t[t.LEFT_TO_RIGHT=0]="LEFT_TO_RIGHT",t[t.RIGHT_TO_LEFT=1]="RIGHT_TO_LEFT"}(K||(K={}));t("default",(M=Q({type:r(k),tooltip:v}),O=Q({type:r(j),tooltip:v,visible:function(){return this.type===k.GRID}}),z=Q({visible:function(){return this.type===k.HORIZONTAL||this.type===k.GRID}}),E=Q({visible:function(){return this.type===k.HORIZONTAL||this.type===k.GRID}}),S=Q({visible:function(){return this.type===k.VERTICAL||this.type===k.GRID}}),A=Q({visible:function(){return this.type===k.VERTICAL||this.type===k.GRID}}),R=Q({visible:function(){return this.type===k.HORIZONTAL||this.type===k.GRID}}),C=Q({visible:function(){return this.type===k.VERTICAL||this.type===k.GRID}}),P=Q({type:r(J),visible:function(){return this.type===k.VERTICAL||this.type===k.GRID}}),b=Q({type:r(K),visible:function(){return this.type===k.HORIZONTAL||this.type===k.GRID}}),q(L=W((D=i((N=function(t){function i(){for(var i,e=arguments.length,s=new Array(e),h=0;h<e;h++)s[h]=arguments[h];return i=t.call.apply(t,[this].concat(s))||this,n(i,"type",D,o(i)),n(i,"startAxis",V,o(i)),n(i,"left",F,o(i)),n(i,"right",H,o(i)),n(i,"top",G,o(i)),n(i,"bottom",X,o(i)),n(i,"spacingX",Y,o(i)),n(i,"spacingY",B,o(i)),n(i,"verticalDirection",Z,o(i)),n(i,"horizontalDirection",U,o(i)),i._list=null,i._view=null,i._viewEdge=null,i._fixedSize=null,i._sizeDirty=!1,i._viewDirty=!1,i._items=[],i._itemPool=[],i._otherItemsArr=[],i._otherItemPoolArr=[],i}e(i,t);var s=i.prototype;return s.onInit=function(t){var i=this;this._list=t,this._view=this.node.parent,this._viewEdge=this.getNodeEdgeRect(this._view),this._otherItemsArr=[],this._otherItemPoolArr=[],this._list.others.forEach((function(t){i._otherItemsArr.push([]),i._otherItemPoolArr.push([])})),this._list.isFixedSize&&null===this._fixedSize&&(this.addItemNode(!1),this._fixedSize=this._itemPool[0].getComponent(a).contentSize),this.node.on(d.EventType.TRANSFORM_CHANGED,this.onPositionChanged,this)},s.onDestroy=function(){this.node.off(d.EventType.TRANSFORM_CHANGED,this.onPositionChanged,this)},s.lateUpdate=function(){this.updateSize(),this.updateView()},s.updateSize=function(){this._sizeDirty&&(this._sizeDirty=!1,this._list.isFixedSize?this.updateSizeFixed():this.updateSizeUnfixed())},s.updateSizeFixed=function(){if(this.type===k.VERTICAL){if(this._list.argsArr.length<=0)return void(this.node.getComponent(a).height=0);this.node.getComponent(a).height=this.top+this.bottom+(this._list.argsArr.length-1)*this.spacingY+this._fixedSize.height*this._list.argsArr.length}else if(this.type===k.HORIZONTAL){if(this._list.argsArr.length<=0)return void(this.node.getComponent(a).width=0);this.node.getComponent(a).width=this.left+this.right+(this._list.argsArr.length-1)*this.spacingX+this._fixedSize.width*this._list.argsArr.length}else if(this.startAxis===j.HORIZONTAL){if(this._list.argsArr.length<=0)return void(this.node.getComponent(a).height=0);var t=Math.floor((this.node.getComponent(a).width-this.left-this.right+this.spacingX)/(this._fixedSize.width+this.spacingX));t=Math.max(t,1);var i=Math.ceil(this._list.argsArr.length/t);this.node.getComponent(a).height=this.top+this.bottom+(i-1)*this.spacingY+this._fixedSize.height*i}else{if(this._list.argsArr.length<=0)return void(this.node.getComponent(a).width=0);var e=Math.floor((this.node.getComponent(a).height-this.top-this.bottom+this.spacingY)/(this._fixedSize.height+this.spacingY));e=Math.max(e,1);var n=Math.ceil(this._list.argsArr.length/e);this.node.getComponent(a).width=this.left+this.right+(n-1)*this.spacingX+this._fixedSize.width*n}},s.updateSizeUnfixed=function(){},s.updateView=function(){!this._viewDirty||this._list.argsArr.length<=0||(this._viewDirty=!1,this._list.isFixedSize?this.updateViewFixed():this.updateViewUnfixed())},s.updateViewFixed=function(){var t,i,e,n,o=this,s=this.checkViewItem(),h=s.inView,r=s.outView,d=this.getNodeEdgeRect(this.node);if(this.type===k.VERTICAL)for(var g=function(t){if(o.verticalDirection===J.TOP_TO_BOTTOM){if(e=d.yMax-(o.top+t*o.spacingY+o._fixedSize.height*t),n=e-o._fixedSize.height,e+o.node.getPosition().y<o._viewEdge.yMin)return{v:void 0};if(n+o.node.getPosition().y>o._viewEdge.yMax)return"continue"}else{if(n=d.yMin+o.bottom+t*o.spacingY+o._fixedSize.height*t,e=n+o._fixedSize.height,n+o.node.getPosition().y>o._viewEdge.yMax)return{v:void 0};if(e+o.node.getPosition().y<o._viewEdge.yMin)return"continue"}if(-1!==h.findIndex((function(i){return o._items[i].getComponent(y).dataIdx===t})))return"continue";var i=0===r.length?o.addItemNode():r.shift(),s=o._items[i];o.setItem(x(0,n+s.getComponent(a).anchorY*s.getComponent(a).height),t,i)},f=0;f<this._list.argsArr.length;f++){var l=g(f);if("continue"!==l&&"object"==typeof l)return l.v}else if(this.type===k.HORIZONTAL)for(var u=function(e){if(o.horizontalDirection===K.RIGHT_TO_LEFT){if(t=d.xMax-(o.right+e*o.spacingX+o._fixedSize.width*e),i=t-o._fixedSize.width,t+o.node.getPosition().x<o._viewEdge.xMin)return{v:void 0};if(i+o.node.getPosition().x>o._viewEdge.xMax)return"continue"}else{if(i=d.xMin+o.left+e*o.spacingX+o._fixedSize.width*e,t=i+o._fixedSize.width,i+o.node.getPosition().x>o._viewEdge.xMax)return{v:void 0};if(t+o.node.getPosition().x<o._viewEdge.xMin)return"continue"}if(-1!==h.findIndex((function(t){return o._items[t].getComponent(y).dataIdx===e})))return"continue";var n=0===r.length?o.addItemNode():r.shift(),s=o._items[n];o.setItem(x(i+s.getComponent(a).anchorX*s.getComponent(a).width,0),e,n)},p=0;p<this._list.argsArr.length;p++){var c=u(p);if("continue"!==c&&"object"==typeof c)return c.v}else for(var _=function(s){var g=0,f=0;if(o.startAxis===j.HORIZONTAL){var l=Math.floor((o.node.getComponent(a).width-o.left-o.right+o.spacingX)/(o._fixedSize.width+o.spacingX));if(l=Math.max(l,1),g=Math.floor(s/l),f=s%l,o.verticalDirection===J.TOP_TO_BOTTOM){if(e=d.yMax-(o.top+g*o.spacingY+o._fixedSize.height*g),n=e-o._fixedSize.height,e+o.node.getPosition().y<o._viewEdge.yMin)return{v:void 0};if(n+o.node.getPosition().y>o._viewEdge.yMax)return"continue"}else{if(n=d.yMin+o.bottom+g*o.spacingY+o._fixedSize.height*g,e=n+o._fixedSize.height,n+o.node.getPosition().y>o._viewEdge.yMax)return{v:void 0};if(e+o.node.getPosition().y<o._viewEdge.yMin)return"continue"}if(o.horizontalDirection===K.RIGHT_TO_LEFT?(t=d.xMax-(o.right+f*o.spacingX+o._fixedSize.width*f),i=t-o._fixedSize.width):(i=d.xMin+o.left+f*o.spacingX+o._fixedSize.width*f,t=i+o._fixedSize.width),t+o.node.getPosition().x<o._viewEdge.xMin||i+o.node.getPosition().x>o._viewEdge.xMax)return"continue"}else{var u=Math.floor((o.node.getComponent(a).height-o.top-o.bottom+o.spacingY)/(o._fixedSize.height+o.spacingY));if(u=Math.max(u,1),g=s%u,f=Math.floor(s/u),o.horizontalDirection===K.RIGHT_TO_LEFT){if(t=d.xMax-(o.right+f*o.spacingX+o._fixedSize.width*f),i=t-o._fixedSize.width,t+o.node.getPosition().x<o._viewEdge.xMin)return{v:void 0};if(i+o.node.getPosition().x>o._viewEdge.xMax)return"continue"}else{if(i=d.xMin+o.left+f*o.spacingX+o._fixedSize.width*f,t=i+o._fixedSize.width,i+o.node.getPosition().x>o._viewEdge.xMax)return{v:void 0};if(t+o.node.getPosition().x<o._viewEdge.xMin)return"continue"}if(o.verticalDirection===J.TOP_TO_BOTTOM?(e=d.yMax-(o.top+g*o.spacingY+o._fixedSize.height*g),n=e-o._fixedSize.height):(n=d.yMin+o.bottom+g*o.spacingY+o._fixedSize.height*g,e=n+o._fixedSize.height),e+o.node.getPosition().y<o._viewEdge.yMin||n+o.node.getPosition().y>o._viewEdge.yMax)return"continue"}if(-1!==h.findIndex((function(t){return o._items[t].getComponent(y).dataIdx===s})))return"continue";var p=0===r.length?o.addItemNode():r.shift(),c=o._items[p];o.setItem(x(i+c.getComponent(a).anchorX*c.getComponent(a).width,n+c.getComponent(a).anchorY*c.getComponent(a).height),s,p)},m=0;m<this._list.argsArr.length;m++){var v=_(m);if("continue"!==v&&"object"==typeof v)return v.v}},s.updateViewUnfixed=function(){},s.checkViewItem=function(){return this._list.isFixedSize?this.checkViewItemFixed():this.checkViewItemUnfixed()},s.checkViewItemFixed=function(){var t=[],i=[];if(this.type===k.VERTICAL)for(var e=0;e<this._items.length;e++){var n=this._items[e].getComponent(a).getBoundingBox();n.yMin+this.node.getPosition().y<=this._viewEdge.yMax&&n.yMax+this.node.getPosition().y>=this._viewEdge.yMin?t.push(e):i.push(e)}else if(this.type===k.HORIZONTAL)for(var o=0;o<this._items.length;o++){var s=this._items[o].getComponent(a).getBoundingBox();s.xMin+this.node.getPosition().x<=this._viewEdge.xMax&&s.xMax+this.node.getPosition().x>=this._viewEdge.xMin?t.push(o):i.push(o)}else for(var h=0;h<this._items.length;h++){var r=this._items[h].getComponent(a).getBoundingBox();r.xMin+this.node.getPosition().x<=this._viewEdge.xMax&&r.xMax+this.node.getPosition().x>=this._viewEdge.xMin&&r.yMin+this.node.getPosition().y<=this._viewEdge.yMax&&r.yMax+this.node.getPosition().y>=this._viewEdge.yMin?t.push(h):i.push(h)}return{inView:t,outView:i}},s.checkViewItemUnfixed=function(){return{inView:[],outView:[]}},s.setItem=function(t,i,e){var n=this._items[e];n.position=t;var o=n.getComponent(y);if(o.dataIdx=i,o.args=this._list.argsArr[i],o.onRefresh(o.args),this._list.others.length>0){var s=[];this._otherItemsArr.forEach((function(i){i[e].position=t,s.push(i[e])})),o.others=s,o.onRefreshOthers.apply(o,o.others)}},s.addItemNode=function(t){var i=this;void 0===t&&(t=!0);var e=null;if(this._itemPool.length>0)(e=this._itemPool.pop()).getComponent(g).opacity=255,this._items.push(e),this._otherItemPoolArr.forEach((function(t,e){var n=t.pop();n.getComponent(g).opacity=255,i._otherItemsArr[e].push(n)}));else{var n=this._list.main.templateType===T.PREFAB?this._list.main.templatePrefab:this._list.main.templateNode;(e=m.instantiate(n,this.node)).getComponent(y)||e.addComponent(y),this.node.addChild(e),t?(e.getComponent(g).opacity=255,this._items.push(e)):this.putItemNode(e);var o=e.children.slice(0);this._list.others.forEach((function(e,n){var s=null;switch(e.templateType){case w.NODE:s=m.instantiate(e.templateNode,i.node);break;case w.PREFAB:s=m.instantiate(e.templatePrefab,i.node);break;case w.MAIN_ITEM_CHILD:if(!I.instance.inRange(0,o.length-1,e.templateChild))return void f("[VirtualLayout.addItemNode] error e.templateChild: "+e.templateChild);(s=o[e.templateChild]).removeFromParent();break;default:return void f("[VirtualLayout.addItemNode] error e.templateType: "+e.templateType)}e.content.addChild(s),t?(s.getComponent(g).opacity=255,i._otherItemsArr[n].push(s)):i.putItemNode(s,!0,n)}))}return this._items.length-1},s.putItemNode=function(t,i,e){(void 0===i&&(i=!1),void 0===e&&(e=0),t.getComponent(g).opacity=0,t.setPosition(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),i)?this._otherItemPoolArr[e].push(t):(t.getComponent(y).onReset(),this._itemPool.push(t))},s.convertToParentPos=function(t,i){return t.add(i.position)},s.convertToChildPos=function(t,i){return new l(t).subtract(i.position)},s.getNodeEdgeRect=function(t){return u(-t.getComponent(a).width*t.getComponent(a).anchorX,-t.getComponent(a).height*t.getComponent(a).anchorY,t.getComponent(a).width,t.getComponent(a).height)},s.onPositionChanged=function(t){var i=this;t===p.POSITION&&(this._list.scrollView._outOfBoundaryAmountDirty=!0,this._viewDirty=!0,this._list.others.forEach((function(t){t.content.position=i.node.position})))},s.getScrollOffset=function(t,i,e){return t=Math.min(t,this._list.argsArr.length-1),this._list.isFixedSize?this.getScrollOffsetFixed(t,i,e):this.getScrollOffsetUnfixed(t,i,e)},s.getScrollOffsetFixed=function(t,i,e){var n,o,s=this.getNodeEdgeRect(this.node);if(this.type===k.VERTICAL){this.verticalDirection===J.TOP_TO_BOTTOM?o=s.yMax-(this.top+t*this.spacingY+this._fixedSize.height*t)-this._fixedSize.height:(o=s.yMin+this.bottom+t*this.spacingY+this._fixedSize.height*t)+this._fixedSize.height;var h=this._viewEdge.xMin-(s.xMin+this.node.getPosition().x),r=s.yMax-(this._fixedSize.height*i.y+o)-(1-e.y)*this._viewEdge.height;return c(h,r)}if(this.type===k.HORIZONTAL){this.horizontalDirection===K.RIGHT_TO_LEFT?n=s.xMax-(this.right+t*this.spacingX+this._fixedSize.width*t)-this._fixedSize.width:(n=s.xMin+this.left+t*this.spacingX+this._fixedSize.width*t)+this._fixedSize.width;var d=this._fixedSize.width*i.x+n-s.xMin-e.x*this._viewEdge.width,g=s.yMax-(this._viewEdge.yMax-this.node.getPosition().y);return c(d,g)}var f=0,l=0;if(this.startAxis===j.HORIZONTAL){var u=Math.floor((this.node.getComponent(a).width-this.left-this.right+this.spacingX)/(this._fixedSize.width+this.spacingX));u=Math.max(u,1),f=Math.floor(t/u),l=t%u}else{var p=Math.floor((this.node.getComponent(a).height-this.top-this.bottom+this.spacingY)/(this._fixedSize.height+this.spacingY));f=t%(p=Math.max(p,1)),l=Math.floor(t/p)}this.verticalDirection===J.TOP_TO_BOTTOM?o=s.yMax-(this.top+f*this.spacingY+this._fixedSize.height*f)-this._fixedSize.height:(o=s.yMin+this.bottom+f*this.spacingY+this._fixedSize.height*f,this._fixedSize.height),this.horizontalDirection===K.RIGHT_TO_LEFT?n=s.xMax-(this.right+l*this.spacingX+this._fixedSize.width*l)-this._fixedSize.width:(n=s.xMin+this.left+l*this.spacingX+this._fixedSize.width*l,this._fixedSize.width);var _=this._fixedSize.width*i.x+n-s.xMin-e.x*this._viewEdge.width,x=s.yMax-(this._fixedSize.height*i.y+o)-(1-e.y)*this._viewEdge.height;return c(_,x)},s.getScrollOffsetUnfixed=function(t,i,e){return null},s.rearrange=function(t){var i=this;void 0===t&&(t=!0),this._sizeDirty=!0,this._viewDirty=!0,t&&(this._items.forEach((function(t,e){i.putItemNode(t),i._otherItemsArr.forEach((function(t,n){i.putItemNode(t[e],!0,n)}))})),this._items.length=0,this._otherItemsArr.forEach((function(t){t.length=0})))},s.refreshAllItems=function(){var t=this;this._items.forEach((function(i){var e=i.getComponent(y);e.onRefresh(e.args),t._list.others.length>0&&e.onRefreshOthers.apply(e,e.others)}))},i}(_)).prototype,"type",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return k.VERTICAL}}),V=i(N.prototype,"startAxis",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return j.HORIZONTAL}}),F=i(N.prototype,"left",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),H=i(N.prototype,"right",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),G=i(N.prototype,"top",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),X=i(N.prototype,"bottom",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Y=i(N.prototype,"spacingX",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),B=i(N.prototype,"spacingY",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Z=i(N.prototype,"verticalDirection",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J.TOP_TO_BOTTOM}}),U=i(N.prototype,"horizontalDirection",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return K.LEFT_TO_RIGHT}}),L=N))||L)||L));s._RF.pop()}}}));

System.register("chunks:///_virtual/VirtualList.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utils.ts","./env","./VirtualLayout.ts"],(function(t){"use strict";var e,i,r,n,o,a,l,s,u,p,c,h,f,y,m,g,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.createClass,r=t.initializerDefineProperty,n=t.inheritsLoose,o=t.assertThisInitialized},function(t){a=t.cclegacy,l=t._decorator,s=t.Node,u=t.Enum,p=t.Prefab,c=t.CCInteger,h=t.ScrollView,f=t.v2,y=t.Component},function(t){m=t.Utils},function(t){g=t.DEV},function(t){b=t.default}],execute:function(){var _,d,A,v,w,T,P,E,I,N,D,C,M,O,z,L,F,V,R,B,k,S,j,x,H,U,q,G,J,K,Q,W,X,Y,Z,$,tt;t({MainTemplateType:void 0,OtherTemplateType:void 0}),a._RF.push({},"041a5lPaAhC8oRiAwLi27MN","VirtualList",void 0);var et,it,rt=l.ccclass,nt=l.property,ot=l.requireComponent,at=l.executeInEditMode,lt=l.disallowMultiple,st=l.menu;!function(t){t[t.NODE=0]="NODE",t[t.PREFAB=1]="PREFAB"}(et||(et=t("MainTemplateType",{}))),function(t){t[t.NODE=0]="NODE",t[t.PREFAB=1]="PREFAB",t[t.MAIN_ITEM_CHILD=2]="MAIN_ITEM_CHILD"}(it||(it=t("OtherTemplateType",{})));var ut=t("MainLayoutData",(_=rt("MainLayoutData"),d=nt({type:s,tooltip:g,visible:function(){return!1}}),A=nt({type:u(et)}),v=nt({type:u(et),tooltip:g}),w=nt(p),T=nt({type:p,tooltip:g,visible:function(){return this.templateType===et.PREFAB}}),P=nt(s),E=nt({type:s,tooltip:g,visible:function(){return this.templateType===et.NODE}}),_((D=e((N=function(){function t(){r(this,"content",D,this),r(this,"_templateType",C,this),r(this,"_templatePrefab",M,this),r(this,"_templateNode",O,this),this.editorCall=null}return t.prototype.resetMainItemChild=function(t){},i(t,[{key:"templateType",get:function(){return this._templateType},set:function(t){this._templateType!==t&&(this._templateType=t,this.resetMainItemChild(!0))}},{key:"templatePrefab",get:function(){return this._templatePrefab},set:function(t){this._templatePrefab!==t&&(this._templatePrefab=t,this.resetMainItemChild(!0))}},{key:"templateNode",get:function(){return this._templateNode},set:function(t){this._templateNode!==t&&(this._templateNode=t,this.resetMainItemChild(!0))}}]),t}()).prototype,"content",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(N.prototype,"_templateType",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return et.PREFAB}}),e(N.prototype,"templateType",[v],Object.getOwnPropertyDescriptor(N.prototype,"templateType"),N.prototype),M=e(N.prototype,"_templatePrefab",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),e(N.prototype,"templatePrefab",[T],Object.getOwnPropertyDescriptor(N.prototype,"templatePrefab"),N.prototype),O=e(N.prototype,"_templateNode",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),e(N.prototype,"templateNode",[E],Object.getOwnPropertyDescriptor(N.prototype,"templateNode"),N.prototype),I=N))||I)),pt=t("OtherLayoutData",(z=rt("OtherLayoutData"),L=nt({type:s,tooltip:g}),F=nt({type:u(it),tooltip:g}),V=nt({type:p,tooltip:g,visible:function(){return this.templateType===it.PREFAB}}),R=nt({type:s,tooltip:g,visible:function(){return this.templateType===it.NODE}}),B=nt({type:c,tooltip:g,visible:function(){return this.templateType===it.MAIN_ITEM_CHILD}}),z((j=e((S=function(){r(this,"content",j,this),r(this,"templateType",x,this),r(this,"templatePrefab",H,this),r(this,"templateNode",U,this),r(this,"templateChild",q,this)}).prototype,"content",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(S.prototype,"templateType",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return it.PREFAB}}),H=e(S.prototype,"templatePrefab",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(S.prototype,"templateNode",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=e(S.prototype,"templateChild",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),k=S))||k));t("default",(G=ot(h),J=st("Framework/UI组件/VirtualList"),K=nt({type:ut,tooltip:g}),Q=nt({type:pt,tooltip:g}),W=nt({visible:!1,tooltip:g}),rt(X=lt(X=at(X=G(X=J((Z=e((Y=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return e=t.call.apply(t,[this].concat(n))||this,r(e,"main",Z,o(e)),r(e,"others",$,o(e)),r(e,"isFixedSize",tt,o(e)),e._scrollView=null,e._layout=null,e._argsArr=[],e}n(e,t);var a=e.prototype;return a.onLoad=function(){this.layout&&this.layout.onInit(this)},a.resetInEditor=function(){this.runEditor()},a.onFocusInEditor=function(){this.main.resetMainItemChild()},a.runEditor=function(){},a.scrollItemToView=function(t,e,i,r,n){void 0===e&&(e=f()),void 0===i&&(i=f()),void 0===r&&(r=0),void 0===n&&(n=!0),this.scrollView.scrollToOffset(this.layout.getScrollOffset(t,e,i),r,n)},a.refreshAllItems=function(){this.layout.refreshAllItems()},a.reset=function(t,e){m.instance.inRange(0,this._argsArr.length-1,t)&&(this._argsArr[t]=e,this.layout.rearrange())},a.push=function(t){var e=this._argsArr.push(t);return this.layout.rearrange(!1),e},a.pop=function(){var t=this._argsArr.pop();return this.layout.rearrange(),t},a.unshift=function(t){var e=this._argsArr.unshift(t);return this.layout.rearrange(),e},a.shift=function(){var t=this._argsArr.shift();return this.layout.rearrange(),t},a.splice=function(t,e){var i;if(void 0===e)i=this._argsArr.splice(t);else{for(var r=arguments.length,n=new Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];var a;if(void 0===n||0===n.length)i=this._argsArr.splice(t,e);else i=(a=this._argsArr).splice.apply(a,[t,e].concat(n))}return this.layout.rearrange(),i},a.sort=function(t){var e=this._argsArr.sort(t);return this.layout.rearrange(),e},a.filter=function(t){return this._argsArr=this._argsArr.filter(t),this.layout.rearrange(),this._argsArr},i(e,[{key:"scrollView",get:function(){return this._scrollView||(this._scrollView=this.getComponent(h)),this._scrollView}},{key:"layout",get:function(){return this._layout||(this._layout=this.scrollView.content.getComponent(b)),this._layout}},{key:"argsArr",get:function(){return this._argsArr},set:function(t){this._argsArr=t,this.layout.rearrange()}}]),e}(y)).prototype,"main",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new ut}}),$=e(Y.prototype,"others",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),tt=e(Y.prototype,"isFixedSize",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),X=Y))||X)||X)||X)||X)||X));a._RF.pop()}}}));

System.register("chunks:///_virtual/VirtualListLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./VirtualList.ts","./Utils.ts","./BasePopUp.ts"],(function(t){"use strict";var e,i,r,n,s,a,o,u,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,a=t._decorator},function(t){o=t.default},function(t){u=t.Utils},function(t){l=t.BasePopUp}],execute:function(){var c,p,f,y,L;s._RF.push({},"ed73eshM21LOZQD9Mn5MVYV","VirtualListLayer",void 0);var h=a.ccclass,d=a.property;t("VirtualListLayer",(c=h("VirtualListLayer"),p=d(o),c((L=e((y=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return e=t.call.apply(t,[this].concat(s))||this,r(e,"list",L,n(e)),e}return i(e,t),e.prototype.open=function(){for(var t=0;t<1e3;t++)this.list.push({num:u.instance.randInt(0,1e3)})},e}(l)).prototype,"list",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=y))||f));s._RF.pop()}}}));

System.register("chunks:///_virtual/Zh.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"e2558//NH5Erp6g4RGfq/4F","Zh",void 0);t("default",{lang:"中文",text1:"数字：%{num}",text2:"参数1: %{arg1}, 参数2: %{arg2}"});e._RF.pop()}}}));
